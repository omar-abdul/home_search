{"/media/omo/Stuff/myprojects/GuriRaadi/src/tests/Database.spec.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/tests/Database.spec.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"25":{"start":{"line":26,"column":28},"end":{"line":26,"column":110}},"26":{"start":{"line":26,"column":91},"end":{"line":26,"column":106}},"27":{"start":{"line":27,"column":4},"end":{"line":32,"column":7}},"28":{"start":{"line":28,"column":36},"end":{"line":28,"column":97}},"29":{"start":{"line":28,"column":42},"end":{"line":28,"column":70}},"30":{"start":{"line":28,"column":85},"end":{"line":28,"column":95}},"31":{"start":{"line":29,"column":35},"end":{"line":29,"column":100}},"32":{"start":{"line":29,"column":41},"end":{"line":29,"column":73}},"33":{"start":{"line":29,"column":88},"end":{"line":29,"column":98}},"34":{"start":{"line":30,"column":32},"end":{"line":30,"column":116}},"35":{"start":{"line":31,"column":8},"end":{"line":31,"column":78}},"36":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"37":{"start":{"line":35,"column":4},"end":{"line":35,"column":62}},"38":{"start":{"line":37,"column":0},"end":{"line":37,"column":62}},"39":{"start":{"line":38,"column":13},"end":{"line":38,"column":42}},"40":{"start":{"line":39,"column":27},"end":{"line":39,"column":71}},"41":{"start":{"line":40,"column":13},"end":{"line":40,"column":65}},"42":{"start":{"line":41,"column":26},"end":{"line":41,"column":95}},"43":{"start":{"line":42,"column":23},"end":{"line":42,"column":54}},"44":{"start":{"line":43,"column":15},"end":{"line":43,"column":38}},"45":{"start":{"line":44,"column":23},"end":{"line":44,"column":77}},"46":{"start":{"line":45,"column":23},"end":{"line":45,"column":77}},"47":{"start":{"line":46,"column":21},"end":{"line":46,"column":70}},"48":{"start":{"line":47,"column":15},"end":{"line":47,"column":26}},"49":{"start":{"line":48,"column":0},"end":{"line":48,"column":37}},"50":{"start":{"line":49,"column":0},"end":{"line":70,"column":3}},"51":{"start":{"line":50,"column":4},"end":{"line":59,"column":7}},"52":{"start":{"line":51,"column":8},"end":{"line":58,"column":12}},"53":{"start":{"line":51,"column":31},"end":{"line":58,"column":10}},"54":{"start":{"line":52,"column":12},"end":{"line":57,"column":16}},"55":{"start":{"line":52,"column":75},"end":{"line":57,"column":14}},"56":{"start":{"line":53,"column":35},"end":{"line":53,"column":87}},"57":{"start":{"line":54,"column":35},"end":{"line":54,"column":87}},"58":{"start":{"line":55,"column":16},"end":{"line":55,"column":47}},"59":{"start":{"line":56,"column":16},"end":{"line":56,"column":47}},"60":{"start":{"line":60,"column":4},"end":{"line":69,"column":7}},"61":{"start":{"line":61,"column":8},"end":{"line":68,"column":12}},"62":{"start":{"line":61,"column":23},"end":{"line":68,"column":10}},"63":{"start":{"line":62,"column":12},"end":{"line":67,"column":16}},"64":{"start":{"line":62,"column":73},"end":{"line":67,"column":14}},"65":{"start":{"line":63,"column":35},"end":{"line":63,"column":87}},"66":{"start":{"line":64,"column":35},"end":{"line":64,"column":87}},"67":{"start":{"line":65,"column":16},"end":{"line":65,"column":46}},"68":{"start":{"line":66,"column":16},"end":{"line":66,"column":46}},"69":{"start":{"line":71,"column":0},"end":{"line":100,"column":3}},"70":{"start":{"line":72,"column":4},"end":{"line":99,"column":8}},"71":{"start":{"line":72,"column":73},"end":{"line":99,"column":6}},"72":{"start":{"line":73,"column":21},"end":{"line":84,"column":9}},"73":{"start":{"line":85,"column":26},"end":{"line":96,"column":9}},"74":{"start":{"line":97,"column":8},"end":{"line":97,"column":43}},"75":{"start":{"line":98,"column":8},"end":{"line":98,"column":107}},"76":{"start":{"line":101,"column":0},"end":{"line":116,"column":3}},"77":{"start":{"line":102,"column":4},"end":{"line":115,"column":8}},"78":{"start":{"line":102,"column":78},"end":{"line":115,"column":6}},"79":{"start":{"line":103,"column":24},"end":{"line":113,"column":9}},"80":{"start":{"line":114,"column":8},"end":{"line":114,"column":110}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":44},"end":{"line":25,"column":45}},"loc":{"start":{"line":25,"column":89},"end":{"line":33,"column":1}},"line":25},"7":{"name":"adopt","decl":{"start":{"line":26,"column":13},"end":{"line":26,"column":18}},"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":112}},"line":26},"8":{"name":"(anonymous_8)","decl":{"start":{"line":26,"column":70},"end":{"line":26,"column":71}},"loc":{"start":{"line":26,"column":89},"end":{"line":26,"column":108}},"line":26},"9":{"name":"(anonymous_9)","decl":{"start":{"line":27,"column":36},"end":{"line":27,"column":37}},"loc":{"start":{"line":27,"column":63},"end":{"line":32,"column":5}},"line":27},"10":{"name":"fulfilled","decl":{"start":{"line":28,"column":17},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":34},"end":{"line":28,"column":99}},"line":28},"11":{"name":"rejected","decl":{"start":{"line":29,"column":17},"end":{"line":29,"column":25}},"loc":{"start":{"line":29,"column":33},"end":{"line":29,"column":102}},"line":29},"12":{"name":"step","decl":{"start":{"line":30,"column":17},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":30},"end":{"line":30,"column":118}},"line":30},"13":{"name":"(anonymous_13)","decl":{"start":{"line":34,"column":56},"end":{"line":34,"column":57}},"loc":{"start":{"line":34,"column":71},"end":{"line":36,"column":1}},"line":34},"14":{"name":"(anonymous_14)","decl":{"start":{"line":49,"column":33},"end":{"line":49,"column":34}},"loc":{"start":{"line":49,"column":39},"end":{"line":70,"column":1}},"line":49},"15":{"name":"(anonymous_15)","decl":{"start":{"line":50,"column":21},"end":{"line":50,"column":22}},"loc":{"start":{"line":50,"column":27},"end":{"line":59,"column":5}},"line":50},"16":{"name":"(anonymous_16)","decl":{"start":{"line":51,"column":25},"end":{"line":51,"column":26}},"loc":{"start":{"line":51,"column":31},"end":{"line":58,"column":10}},"line":51},"17":{"name":"(anonymous_17)","decl":{"start":{"line":51,"column":65},"end":{"line":51,"column":66}},"loc":{"start":{"line":51,"column":78},"end":{"line":58,"column":9}},"line":51},"18":{"name":"(anonymous_18)","decl":{"start":{"line":52,"column":69},"end":{"line":52,"column":70}},"loc":{"start":{"line":52,"column":75},"end":{"line":57,"column":14}},"line":52},"19":{"name":"(anonymous_19)","decl":{"start":{"line":52,"column":109},"end":{"line":52,"column":110}},"loc":{"start":{"line":52,"column":122},"end":{"line":57,"column":13}},"line":52},"20":{"name":"(anonymous_20)","decl":{"start":{"line":60,"column":25},"end":{"line":60,"column":26}},"loc":{"start":{"line":60,"column":31},"end":{"line":69,"column":5}},"line":60},"21":{"name":"(anonymous_21)","decl":{"start":{"line":61,"column":17},"end":{"line":61,"column":18}},"loc":{"start":{"line":61,"column":23},"end":{"line":68,"column":10}},"line":61},"22":{"name":"(anonymous_22)","decl":{"start":{"line":61,"column":57},"end":{"line":61,"column":58}},"loc":{"start":{"line":61,"column":70},"end":{"line":68,"column":9}},"line":61},"23":{"name":"(anonymous_23)","decl":{"start":{"line":62,"column":67},"end":{"line":62,"column":68}},"loc":{"start":{"line":62,"column":73},"end":{"line":67,"column":14}},"line":62},"24":{"name":"(anonymous_24)","decl":{"start":{"line":62,"column":107},"end":{"line":62,"column":108}},"loc":{"start":{"line":62,"column":120},"end":{"line":67,"column":13}},"line":62},"25":{"name":"(anonymous_25)","decl":{"start":{"line":71,"column":44},"end":{"line":71,"column":45}},"loc":{"start":{"line":71,"column":50},"end":{"line":100,"column":1}},"line":71},"26":{"name":"(anonymous_26)","decl":{"start":{"line":72,"column":67},"end":{"line":72,"column":68}},"loc":{"start":{"line":72,"column":73},"end":{"line":99,"column":6}},"line":72},"27":{"name":"(anonymous_27)","decl":{"start":{"line":72,"column":107},"end":{"line":72,"column":108}},"loc":{"start":{"line":72,"column":120},"end":{"line":99,"column":5}},"line":72},"28":{"name":"(anonymous_28)","decl":{"start":{"line":101,"column":46},"end":{"line":101,"column":47}},"loc":{"start":{"line":101,"column":52},"end":{"line":116,"column":1}},"line":101},"29":{"name":"(anonymous_29)","decl":{"start":{"line":102,"column":72},"end":{"line":102,"column":73}},"loc":{"start":{"line":102,"column":78},"end":{"line":115,"column":6}},"line":102},"30":{"name":"(anonymous_30)","decl":{"start":{"line":102,"column":112},"end":{"line":102,"column":113}},"loc":{"start":{"line":102,"column":125},"end":{"line":115,"column":5}},"line":102}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":17},"end":{"line":25,"column":21}},{"start":{"line":25,"column":25},"end":{"line":25,"column":39}},{"start":{"line":25,"column":44},"end":{"line":33,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":35},"end":{"line":26,"column":109}},"type":"cond-expr","locations":[{"start":{"line":26,"column":56},"end":{"line":26,"column":61}},{"start":{"line":26,"column":64},"end":{"line":26,"column":109}}],"line":26},"18":{"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":34}},"type":"binary-expr","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":17}},{"start":{"line":27,"column":22},"end":{"line":27,"column":33}}],"line":27},"19":{"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":115}},"type":"cond-expr","locations":[{"start":{"line":30,"column":46},"end":{"line":30,"column":67}},{"start":{"line":30,"column":70},"end":{"line":30,"column":115}}],"line":30},"20":{"loc":{"start":{"line":31,"column":51},"end":{"line":31,"column":67}},"type":"binary-expr","locations":[{"start":{"line":31,"column":51},"end":{"line":31,"column":61}},{"start":{"line":31,"column":65},"end":{"line":31,"column":67}}],"line":31},"21":{"loc":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"type":"binary-expr","locations":[{"start":{"line":34,"column":23},"end":{"line":34,"column":27}},{"start":{"line":34,"column":31},"end":{"line":34,"column":51}},{"start":{"line":34,"column":56},"end":{"line":36,"column":1}}],"line":34},"22":{"loc":{"start":{"line":35,"column":11},"end":{"line":35,"column":61}},"type":"cond-expr","locations":[{"start":{"line":35,"column":37},"end":{"line":35,"column":40}},{"start":{"line":35,"column":43},"end":{"line":35,"column":61}}],"line":35},"23":{"loc":{"start":{"line":35,"column":12},"end":{"line":35,"column":33}},"type":"binary-expr","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":15}},{"start":{"line":35,"column":19},"end":{"line":35,"column":33}}],"line":35}},"s":{"0":1,"1":10,"2":10,"3":10,"4":10,"5":10,"6":2,"7":10,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":3,"16":2,"17":1,"18":1,"19":1,"20":10,"21":10,"22":1,"23":1,"24":1,"25":5,"26":0,"27":6,"28":5,"29":5,"30":0,"31":0,"32":0,"33":0,"34":11,"35":6,"36":1,"37":3,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1},"f":{"0":10,"1":2,"2":0,"3":1,"4":0,"5":3,"6":6,"7":5,"8":0,"9":6,"10":5,"11":0,"12":11,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1},"b":{"0":[1,1,1],"1":[1,0],"2":[10,0],"3":[10,0],"4":[10,10],"5":[0,10],"6":[10,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[2,1],"12":[3,3],"13":[1,0],"14":[10,0],"15":[10,10],"16":[1,1,1],"17":[5,0],"18":[6,6],"19":[6,5],"20":[6,6],"21":[1,1,1],"22":[1,2],"23":[3,3]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/tests/Database.spec.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/tests/Database.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import * as chai from \"chai\";\nimport { assert } from \"chai\";\nimport chaiAsPromised from \"chai-as-promised\";\n\nimport db from \"../data-access/config/db\";\nimport mig from \"../data-access/migrations/home_migrations\";\nimport { CustomDatabaseError, LoginFailureError } from \"../util/customerrors\";\nimport { tableExists } from \"../util/util\";\nimport * as userController from \"../controller/user_controller\";\nimport * as homeController from \"../controller/home_controller\";\nimport { UserObject } from \"../data-access/repositories/user_model\";\nimport { ListingType, Locations } from \"../data-access/repositories/home_model\";\n\nconst expect = chai.expect;\nchai.use(chaiAsPromised);\n\ndescribe(\"Database  Migrations\", () => {\n  describe(\"Down\", () => {\n    it(\"Check Down\", async () => {\n      return mig.down(db).then(async () => {\n        const homeExists = await tableExists(db, \"homes\");\n        const usersExist = await tableExists(db, \"users\");\n        expect(usersExist).to.be.false;\n        expect(homeExists).to.be.false;\n      });\n    });\n  });\n  describe(\"Check Up\", () => {\n    it(\"Up\", async () => {\n      return mig.up(db).then(async () => {\n        const userExists = await tableExists(db, \"users\");\n        const homeExists = await tableExists(db, \"homes\");\n        expect(userExists).to.be.true;\n        expect(homeExists).to.be.true;\n      });\n    });\n  });\n});\n\ndescribe(\"Throwing Database Error on user\", () => {\n  it(\"*****Should throw a CustomDatabaseError when adding user\", async () => {\n    const data: UserObject = {\n      id: \"test\",\n      phoneNumber: 5444,\n      whatsappNumber: 5444,\n      userName: \"specialname4\",\n      email: \"myemail3.com\",\n      firstName: \"Mine\",\n      lastName: \"you\",\n      password: \"somepassword\",\n      active: true,\n      salt: \"\",\n    };\n    const duplicate: UserObject = {\n      id: \"test\",\n      phoneNumber: 5444,\n      whatsappNumber: 5444,\n      userName: \"specialname4\",\n      email: \"myemail3.com\",\n      firstName: \"Mine\",\n      lastName: \"you\",\n      password: \"somepassword\",\n      active: true,\n      salt: \"\",\n    };\n    await userController.addUser(data);\n    return expect(userController.addUser(data)).to.be.rejectedWith(\n      CustomDatabaseError\n    );\n  });\n});\n\ndescribe(\"Throwing Database Errors on homes\", () => {\n  it(\"*****Should throw a CustomDatabaseError when adding a listing\", async () => {\n    const homeObj = {\n      id: \"undefined\",\n      location: Locations.Burco,\n      type: ListingType.Sale,\n      description: \"home for sale\",\n      roomNumbers: 3,\n      price: 3.5,\n      userId: \"\",\n      isPaid: false,\n      status: undefined,\n    };\n    return expect(homeController.addHome(homeObj)).to.be.rejectedWith(\n      CustomDatabaseError\n    );\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c6ddd8e1d56d53c4900e79fd7805f24646ed50ba","contentHash":"0d515792afebad7aec3545e067b2a7c342c0adec895b15860d8117e15b3085d3"},"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/config/db.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/config/db.ts","statementMap":{"0":{"start":{"line":9,"column":22},"end":{"line":19,"column":3}},"1":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"2":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"3":{"start":{"line":11,"column":15},"end":{"line":11,"column":52}},"4":{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},"5":{"start":{"line":13,"column":6},"end":{"line":13,"column":68}},"6":{"start":{"line":13,"column":51},"end":{"line":13,"column":63}},"7":{"start":{"line":15,"column":4},"end":{"line":15,"column":39}},"8":{"start":{"line":17,"column":4},"end":{"line":17,"column":33}},"9":{"start":{"line":17,"column":26},"end":{"line":17,"column":33}},"10":{"start":{"line":18,"column":4},"end":{"line":18,"column":17}},"11":{"start":{"line":20,"column":25},"end":{"line":24,"column":2}},"12":{"start":{"line":21,"column":4},"end":{"line":21,"column":72}},"13":{"start":{"line":23,"column":4},"end":{"line":23,"column":21}},"14":{"start":{"line":25,"column":19},"end":{"line":31,"column":1}},"15":{"start":{"line":26,"column":4},"end":{"line":26,"column":42}},"16":{"start":{"line":26,"column":31},"end":{"line":26,"column":42}},"17":{"start":{"line":27,"column":17},"end":{"line":27,"column":19}},"18":{"start":{"line":28,"column":4},"end":{"line":28,"column":141}},"19":{"start":{"line":28,"column":21},"end":{"line":28,"column":141}},"20":{"start":{"line":28,"column":40},"end":{"line":28,"column":141}},"21":{"start":{"line":28,"column":109},"end":{"line":28,"column":141}},"22":{"start":{"line":29,"column":4},"end":{"line":29,"column":36}},"23":{"start":{"line":30,"column":4},"end":{"line":30,"column":18}},"24":{"start":{"line":32,"column":22},"end":{"line":34,"column":1}},"25":{"start":{"line":33,"column":4},"end":{"line":33,"column":62}},"26":{"start":{"line":35,"column":0},"end":{"line":35,"column":62}},"27":{"start":{"line":36,"column":15},"end":{"line":36,"column":47}},"28":{"start":{"line":37,"column":15},"end":{"line":37,"column":46}},"29":{"start":{"line":38,"column":0},"end":{"line":38,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":74},"end":{"line":9,"column":75}},"loc":{"start":{"line":9,"column":96},"end":{"line":16,"column":1}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":38},"end":{"line":13,"column":39}},"loc":{"start":{"line":13,"column":49},"end":{"line":13,"column":65}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":6},"end":{"line":16,"column":7}},"loc":{"start":{"line":16,"column":28},"end":{"line":19,"column":1}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":80},"end":{"line":20,"column":81}},"loc":{"start":{"line":20,"column":95},"end":{"line":22,"column":1}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":5},"end":{"line":22,"column":6}},"loc":{"start":{"line":22,"column":20},"end":{"line":24,"column":1}},"line":22},"5":{"name":"(anonymous_5)","decl":{"start":{"line":25,"column":50},"end":{"line":25,"column":51}},"loc":{"start":{"line":25,"column":65},"end":{"line":31,"column":1}},"line":25},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":56},"end":{"line":32,"column":57}},"loc":{"start":{"line":32,"column":71},"end":{"line":34,"column":1}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":22},"end":{"line":19,"column":3}},"type":"binary-expr","locations":[{"start":{"line":9,"column":23},"end":{"line":9,"column":27}},{"start":{"line":9,"column":31},"end":{"line":9,"column":51}},{"start":{"line":9,"column":57},"end":{"line":19,"column":2}}],"line":9},"1":{"loc":{"start":{"line":9,"column":57},"end":{"line":19,"column":2}},"type":"cond-expr","locations":[{"start":{"line":9,"column":74},"end":{"line":16,"column":1}},{"start":{"line":16,"column":6},"end":{"line":19,"column":1}}],"line":9},"2":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"3":{"loc":{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},{"start":{"line":12,"column":4},"end":{"line":14,"column":5}}],"line":12},"4":{"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":85}},"type":"binary-expr","locations":[{"start":{"line":12,"column":8},"end":{"line":12,"column":13}},{"start":{"line":12,"column":18},"end":{"line":12,"column":84}}],"line":12},"5":{"loc":{"start":{"line":12,"column":18},"end":{"line":12,"column":84}},"type":"cond-expr","locations":[{"start":{"line":12,"column":34},"end":{"line":12,"column":47}},{"start":{"line":12,"column":50},"end":{"line":12,"column":84}}],"line":12},"6":{"loc":{"start":{"line":12,"column":50},"end":{"line":12,"column":84}},"type":"binary-expr","locations":[{"start":{"line":12,"column":50},"end":{"line":12,"column":63}},{"start":{"line":12,"column":67},"end":{"line":12,"column":84}}],"line":12},"7":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":33}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":33}},{"start":{"line":17,"column":4},"end":{"line":17,"column":33}}],"line":17},"8":{"loc":{"start":{"line":20,"column":25},"end":{"line":24,"column":2}},"type":"binary-expr","locations":[{"start":{"line":20,"column":26},"end":{"line":20,"column":30}},{"start":{"line":20,"column":34},"end":{"line":20,"column":57}},{"start":{"line":20,"column":63},"end":{"line":24,"column":1}}],"line":20},"9":{"loc":{"start":{"line":20,"column":63},"end":{"line":24,"column":1}},"type":"cond-expr","locations":[{"start":{"line":20,"column":80},"end":{"line":22,"column":1}},{"start":{"line":22,"column":5},"end":{"line":24,"column":1}}],"line":20},"10":{"loc":{"start":{"line":25,"column":19},"end":{"line":31,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":20},"end":{"line":25,"column":24}},{"start":{"line":25,"column":28},"end":{"line":25,"column":45}},{"start":{"line":25,"column":50},"end":{"line":31,"column":1}}],"line":25},"11":{"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":42}},"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":42}},{"start":{"line":26,"column":4},"end":{"line":26,"column":42}}],"line":26},"12":{"loc":{"start":{"line":26,"column":8},"end":{"line":26,"column":29}},"type":"binary-expr","locations":[{"start":{"line":26,"column":8},"end":{"line":26,"column":11}},{"start":{"line":26,"column":15},"end":{"line":26,"column":29}}],"line":26},"13":{"loc":{"start":{"line":28,"column":4},"end":{"line":28,"column":141}},"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":141}},{"start":{"line":28,"column":4},"end":{"line":28,"column":141}}],"line":28},"14":{"loc":{"start":{"line":28,"column":40},"end":{"line":28,"column":141}},"type":"if","locations":[{"start":{"line":28,"column":40},"end":{"line":28,"column":141}},{"start":{"line":28,"column":40},"end":{"line":28,"column":141}}],"line":28},"15":{"loc":{"start":{"line":28,"column":44},"end":{"line":28,"column":107}},"type":"binary-expr","locations":[{"start":{"line":28,"column":44},"end":{"line":28,"column":59}},{"start":{"line":28,"column":63},"end":{"line":28,"column":107}}],"line":28},"16":{"loc":{"start":{"line":32,"column":22},"end":{"line":34,"column":1}},"type":"binary-expr","locations":[{"start":{"line":32,"column":23},"end":{"line":32,"column":27}},{"start":{"line":32,"column":31},"end":{"line":32,"column":51}},{"start":{"line":32,"column":56},"end":{"line":34,"column":1}}],"line":32},"17":{"loc":{"start":{"line":33,"column":11},"end":{"line":33,"column":61}},"type":"cond-expr","locations":[{"start":{"line":33,"column":37},"end":{"line":33,"column":40}},{"start":{"line":33,"column":43},"end":{"line":33,"column":61}}],"line":33},"18":{"loc":{"start":{"line":33,"column":12},"end":{"line":33,"column":33}},"type":"binary-expr","locations":[{"start":{"line":33,"column":12},"end":{"line":33,"column":15}},{"start":{"line":33,"column":19},"end":{"line":33,"column":33}}],"line":33}},"s":{"0":1,"1":5,"2":5,"3":5,"4":5,"5":5,"6":10,"7":5,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":5,"21":5,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1},"f":{"0":5,"1":10,"2":0,"3":1,"4":0,"5":1,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[5,0],"3":[5,0],"4":[5,5],"5":[0,5],"6":[5,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[5,0],"15":[5,5],"16":[1,1,1],"17":[0,1],"18":[1,1]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/config/db.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/config/db.ts"],"names":[],"mappings":";AAAA;;;;;;EAME;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEF,gDAAwB;AACxB,+CAAiC;AACjC,kBAAe,IAAA,cAAI,EAAC,MAAM,CAAC,CAAC","sourcesContent":["/*\n*\n*\nSingleton Db Object\n*\n*\n*/\n\nimport knex from \"knex\";\nimport * as config from \"./knex\";\nexport default knex(config);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3c2796f1c8accf89c56d9405196ffcdd40db7417","contentHash":"8babaf33869eb8841629abdefd86c094f72cae6a24e3c31524ddd3535c46fa12"},"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/config/knex.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/config/knex.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":51}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":41}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":26}},"6":{"start":{"line":9,"column":12},"end":{"line":9,"column":38}},"7":{"start":{"line":10,"column":15},"end":{"line":44,"column":1}},"8":{"start":{"line":14,"column":59},"end":{"line":14,"column":106}},"9":{"start":{"line":19,"column":12},"end":{"line":25,"column":13}},"10":{"start":{"line":20,"column":16},"end":{"line":24,"column":17}},"11":{"start":{"line":21,"column":20},"end":{"line":23,"column":23}},"12":{"start":{"line":22,"column":24},"end":{"line":22,"column":67}},"13":{"start":{"line":26,"column":12},"end":{"line":26,"column":26}},"14":{"start":{"line":32,"column":59},"end":{"line":32,"column":106}},"15":{"start":{"line":35,"column":8},"end":{"line":41,"column":9}},"16":{"start":{"line":36,"column":12},"end":{"line":40,"column":13}},"17":{"start":{"line":37,"column":16},"end":{"line":39,"column":19}},"18":{"start":{"line":38,"column":20},"end":{"line":38,"column":63}},"19":{"start":{"line":42,"column":8},"end":{"line":42,"column":22}},"20":{"start":{"line":45,"column":0},"end":{"line":45,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":24},"end":{"line":14,"column":25}},"loc":{"start":{"line":14,"column":59},"end":{"line":14,"column":106}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":29},"end":{"line":18,"column":30}},"loc":{"start":{"line":18,"column":55},"end":{"line":27,"column":9}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":38},"end":{"line":21,"column":39}},"loc":{"start":{"line":21,"column":47},"end":{"line":23,"column":21}},"line":21},"4":{"name":"(anonymous_4)","decl":{"start":{"line":32,"column":24},"end":{"line":32,"column":25}},"loc":{"start":{"line":32,"column":59},"end":{"line":32,"column":106}},"line":32},"5":{"name":"(anonymous_5)","decl":{"start":{"line":34,"column":25},"end":{"line":34,"column":26}},"loc":{"start":{"line":34,"column":51},"end":{"line":43,"column":5}},"line":34},"6":{"name":"(anonymous_6)","decl":{"start":{"line":37,"column":34},"end":{"line":37,"column":35}},"loc":{"start":{"line":37,"column":43},"end":{"line":39,"column":17}},"line":37}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":19,"column":12},"end":{"line":25,"column":13}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":25,"column":13}},{"start":{"line":19,"column":12},"end":{"line":25,"column":13}}],"line":19},"4":{"loc":{"start":{"line":20,"column":16},"end":{"line":24,"column":17}},"type":"if","locations":[{"start":{"line":20,"column":16},"end":{"line":24,"column":17}},{"start":{"line":20,"column":16},"end":{"line":24,"column":17}}],"line":20},"5":{"loc":{"start":{"line":35,"column":8},"end":{"line":41,"column":9}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":41,"column":9}},{"start":{"line":35,"column":8},"end":{"line":41,"column":9}}],"line":35},"6":{"loc":{"start":{"line":36,"column":12},"end":{"line":40,"column":13}},"type":"if","locations":[{"start":{"line":36,"column":12},"end":{"line":40,"column":13}},{"start":{"line":36,"column":12},"end":{"line":40,"column":13}}],"line":36}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":224,"9":42,"10":15,"11":12,"12":12,"13":30,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1},"f":{"0":1,"1":224,"2":42,"3":12,"4":0,"5":0,"6":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[15,27],"4":[12,3],"5":[0,0],"6":[0,0]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/config/knex.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/config/knex.ts"],"names":[],"mappings":";;;;;AACA,oDAA4B;AAC5B,0CAAyE;AACzE,gBAAM,CAAC,MAAM,EAAE,CAAC;AAChB,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC;AACvC,MAAM,MAAM,GAAG;IACb,WAAW,EAAE;QACX,MAAM,EAAE,IAAI;QACZ,UAAU,EAAE,iDAAiD;QAE7D,cAAc,EAAE,CAAC,KAAU,EAAE,QAAa,EAAE,YAAiB,EAAE,EAAE,CAC/D,QAAQ,CAAC,IAAA,yBAAkB,EAAC,KAAK,CAAC,CAAC;QACrC,UAAU,EAAE;YACV,SAAS,EAAE,iBAAiB;SAC7B;QACD,mBAAmB,EAAE,CAAC,MAAW,EAAE,YAAiB,EAAE,EAAE;YACtD,IAAI,YAAY,KAAK,gBAAgB,EAAE;gBACrC,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;oBACzB,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBACxB,OAAO,IAAA,yBAAkB,EAAC,GAAG,CAAC,CAAC;oBACjC,CAAC,CAAC,CAAC;iBACJ;aACF;YACD,OAAO,MAAM,CAAC;QAChB,CAAC;KACF;IACD,UAAU,EAAE;QACV,MAAM,EAAE,IAAI;QACZ,UAAU,EAAE,GAAG;QAEf,cAAc,EAAE,CAAC,KAAU,EAAE,QAAa,EAAE,YAAiB,EAAE,EAAE,CAC/D,QAAQ,CAAC,IAAA,yBAAkB,EAAC,KAAK,CAAC,CAAC;KACtC;IACD,mBAAmB,EAAE,CAAC,MAAW,EAAE,YAAiB,EAAE,EAAE;QACtD,IAAI,YAAY,KAAK,gBAAgB,EAAE;YACrC,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACzB,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;oBACxB,OAAO,IAAA,yBAAkB,EAAC,GAAG,CAAC,CAAC;gBACjC,CAAC,CAAC,CAAC;aACJ;SACF;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;CACF,CAAC;AAEF,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,aAAa,CAAC,CAAC","sourcesContent":["import knex from \"knex\";\nimport dotenv from \"dotenv\";\nimport { convertToCamelCase, convertToSnakeCase } from \"../../util/util\";\ndotenv.config();\nconst con = process.env.DB_CONN_STRING;\nconst config = {\n  development: {\n    client: \"pg\",\n    connection: \"postgres://omo:54321@localhost:5432/home_search\",\n\n    wrapIdentifier: (value: any, origImpl: any, queryContext: any) =>\n      origImpl(convertToSnakeCase(value)),\n    migrations: {\n      tableName: \"knex_migrations\",\n    },\n    postProcessResponse: (result: any, queryContext: any) => {\n      if (queryContext === \"crud_functions\") {\n        if (Array.isArray(result)) {\n          return result.map((row) => {\n            return convertToCamelCase(row);\n          });\n        }\n      }\n      return result;\n    },\n  },\n  production: {\n    client: \"pg\",\n    connection: con,\n\n    wrapIdentifier: (value: any, origImpl: any, queryContext: any) =>\n      origImpl(convertToSnakeCase(value)),\n  },\n  postProcessResponse: (result: any, queryContext: any) => {\n    if (queryContext === \"crud_functions\") {\n      if (Array.isArray(result)) {\n        return result.map((row) => {\n          return convertToCamelCase(row);\n        });\n      }\n    }\n    return result;\n  },\n};\n\nmodule.exports = config[\"development\"];\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"794d78000687f807071b50d6a8d9f4d621bfc1ca","contentHash":"ad9e600f5bc6ed5b438840b16ea50f20b49fbe615f7ae74d78b185259b021b5a"},"/media/omo/Stuff/myprojects/GuriRaadi/src/util/util.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/util/util.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":162}},"16":{"start":{"line":16,"column":17},"end":{"line":16,"column":51}},"17":{"start":{"line":17,"column":27},"end":{"line":19,"column":1}},"18":{"start":{"line":18,"column":4},"end":{"line":18,"column":73}},"19":{"start":{"line":18,"column":45},"end":{"line":18,"column":71}},"20":{"start":{"line":20,"column":0},"end":{"line":20,"column":48}},"21":{"start":{"line":21,"column":27},"end":{"line":26,"column":1}},"22":{"start":{"line":22,"column":4},"end":{"line":25,"column":5}},"23":{"start":{"line":23,"column":24},"end":{"line":23,"column":108}},"24":{"start":{"line":23,"column":31},"end":{"line":23,"column":108}},"25":{"start":{"line":23,"column":69},"end":{"line":23,"column":107}},"26":{"start":{"line":24,"column":8},"end":{"line":24,"column":91}},"27":{"start":{"line":24,"column":73},"end":{"line":24,"column":88}},"28":{"start":{"line":27,"column":0},"end":{"line":27,"column":48}},"29":{"start":{"line":28,"column":20},"end":{"line":28,"column":124}},"30":{"start":{"line":28,"column":37},"end":{"line":28,"column":124}},"31":{"start":{"line":28,"column":86},"end":{"line":28,"column":121}},"32":{"start":{"line":29,"column":0},"end":{"line":29,"column":34}},"33":{"start":{"line":30,"column":20},"end":{"line":34,"column":1}},"34":{"start":{"line":31,"column":4},"end":{"line":33,"column":7}},"35":{"start":{"line":32,"column":8},"end":{"line":32,"column":100}},"36":{"start":{"line":32,"column":25},"end":{"line":32,"column":95}},"37":{"start":{"line":35,"column":0},"end":{"line":35,"column":34}},"38":{"start":{"line":36,"column":26},"end":{"line":38,"column":1}},"39":{"start":{"line":37,"column":4},"end":{"line":37,"column":67}},"40":{"start":{"line":39,"column":0},"end":{"line":39,"column":46}},"41":{"start":{"line":40,"column":23},"end":{"line":42,"column":1}},"42":{"start":{"line":41,"column":4},"end":{"line":41,"column":25}},"43":{"start":{"line":43,"column":0},"end":{"line":43,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":27},"end":{"line":17,"column":28}},"loc":{"start":{"line":17,"column":36},"end":{"line":19,"column":1}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":33},"end":{"line":18,"column":34}},"loc":{"start":{"line":18,"column":45},"end":{"line":18,"column":71}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":21,"column":27},"end":{"line":21,"column":28}},"loc":{"start":{"line":21,"column":42},"end":{"line":26,"column":1}},"line":21},"11":{"name":"(anonymous_11)","decl":{"start":{"line":23,"column":24},"end":{"line":23,"column":25}},"loc":{"start":{"line":23,"column":31},"end":{"line":23,"column":108}},"line":23},"12":{"name":"(anonymous_12)","decl":{"start":{"line":23,"column":56},"end":{"line":23,"column":57}},"loc":{"start":{"line":23,"column":69},"end":{"line":23,"column":107}},"line":23},"13":{"name":"(anonymous_13)","decl":{"start":{"line":24,"column":58},"end":{"line":24,"column":59}},"loc":{"start":{"line":24,"column":73},"end":{"line":24,"column":88}},"line":24},"14":{"name":"(anonymous_14)","decl":{"start":{"line":28,"column":20},"end":{"line":28,"column":21}},"loc":{"start":{"line":28,"column":37},"end":{"line":28,"column":124}},"line":28},"15":{"name":"(anonymous_15)","decl":{"start":{"line":28,"column":71},"end":{"line":28,"column":72}},"loc":{"start":{"line":28,"column":84},"end":{"line":28,"column":123}},"line":28},"16":{"name":"(anonymous_16)","decl":{"start":{"line":30,"column":20},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":26},"end":{"line":34,"column":1}},"line":30},"17":{"name":"(anonymous_17)","decl":{"start":{"line":31,"column":23},"end":{"line":31,"column":24}},"loc":{"start":{"line":31,"column":36},"end":{"line":33,"column":5}},"line":31},"18":{"name":"(anonymous_18)","decl":{"start":{"line":32,"column":19},"end":{"line":32,"column":20}},"loc":{"start":{"line":32,"column":25},"end":{"line":32,"column":95}},"line":32},"19":{"name":"(anonymous_19)","decl":{"start":{"line":36,"column":26},"end":{"line":36,"column":27}},"loc":{"start":{"line":36,"column":36},"end":{"line":38,"column":1}},"line":36},"20":{"name":"(anonymous_20)","decl":{"start":{"line":40,"column":23},"end":{"line":40,"column":24}},"loc":{"start":{"line":40,"column":57},"end":{"line":42,"column":1}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":22,"column":4},"end":{"line":25,"column":5}},"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":25,"column":5}},{"start":{"line":22,"column":4},"end":{"line":25,"column":5}}],"line":22},"9":{"loc":{"start":{"line":40,"column":26},"end":{"line":40,"column":36}},"type":"default-arg","locations":[{"start":{"line":40,"column":32},"end":{"line":40,"column":36}}],"line":40},"10":{"loc":{"start":{"line":40,"column":38},"end":{"line":40,"column":49}},"type":"default-arg","locations":[{"start":{"line":40,"column":45},"end":{"line":40,"column":49}}],"line":40}},"s":{"0":1,"1":0,"2":0,"3":4,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":4,"11":4,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":224,"19":34,"20":1,"21":1,"22":12,"23":12,"24":86,"25":43,"26":12,"27":86,"28":1,"29":1,"30":4,"31":4,"32":1,"33":1,"34":4,"35":4,"36":4,"37":1,"38":1,"39":6,"40":1,"41":1,"42":13,"43":1},"f":{"0":4,"1":0,"2":0,"3":4,"4":0,"5":0,"6":4,"7":1,"8":224,"9":34,"10":12,"11":86,"12":43,"13":86,"14":4,"15":4,"16":4,"17":4,"18":4,"19":6,"20":13},"b":{"0":[1,1,1],"1":[0,0],"2":[4,4],"3":[4,0],"4":[4,4],"5":[1,1,1],"6":[0,1],"7":[1,1],"8":[12,0],"9":[1],"10":[0]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/util/util.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/util/util.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AACA,oDAA4B;AACrB,MAAM,kBAAkB,GAAG,CAAC,GAAW,EAAU,EAAE;IACxD,OAAO,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,IAAI,MAAM,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;AACvE,CAAC,CAAC;AAFW,QAAA,kBAAkB,sBAE7B;AACK,MAAM,kBAAkB,GAAG,UAAU,GAAQ;IAClD,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;QAC3B,MAAM,OAAO,GAAG,CAAC,CAAS,EAAE,EAAE,CAC5B,CAAC,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,OAAO,EAAE,EAAE,CACnC,OAAO,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CACvC,CAAC;QACJ,OAAO,MAAM,CAAC,WAAW,CACvB,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CACxD,CAAC;KACH;AACH,CAAC,CAAC;AAVW,QAAA,kBAAkB,sBAU7B;AAEK,MAAM,WAAW,GAAG,CACzB,IAAU,EACV,KAAa,EACK,EAAE,kDAAC,OAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA,GAAA,CAAC;AAHtC,QAAA,WAAW,eAG2B;AAE5C,MAAM,WAAW,GAAG,GAAoB,EAAE;IAC/C,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;QAC7B,UAAU,CACR,GAAG,EAAE,CACH,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EACxE,CAAC,CACF,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AARW,QAAA,WAAW,eAQtB;AAEK,MAAM,iBAAiB,GAAG,CAAC,IAAY,EAAE,EAAE;IAChD,OAAO,gBAAM,CAAC,WAAW,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AACvD,CAAC,CAAC;AAFW,QAAA,iBAAiB,qBAE5B;AAEK,MAAM,cAAc,GAAG,CAAC,EAC7B,GAAG,GAAG,IAAI,EACV,IAAI,GAAG,IAAI,GAIZ,EAAE,EAAE;IACH,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;AACvB,CAAC,CAAC;AARW,QAAA,cAAc,kBAQzB","sourcesContent":["import { Knex } from \"knex\";\nimport crypto from \"crypto\";\nexport const convertToSnakeCase = (str: string): string => {\n  return str.replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);\n};\nexport const convertToCamelCase = function (str: any) {\n  if (typeof str === \"object\") {\n    const replace = (s: string) =>\n      s.replace(/([_][a-z])/g, (letters) =>\n        letters.toUpperCase().replace(\"_\", \"\")\n      );\n    return Object.fromEntries(\n      Object.entries(str).map(([k, v], i) => [replace(k), v])\n    );\n  }\n};\n\nexport const tableExists = async (\n  knex: Knex,\n  tname: string\n): Promise<Boolean> => knex.schema.hasTable(tname);\n\nexport const genRandomId = (): Promise<string> => {\n  return new Promise((resolve) => {\n    setTimeout(\n      () =>\n        resolve(Date.now().toString(36) + Math.random().toString(36).slice(2)),\n      1\n    );\n  });\n};\n\nexport const getCryptoRandomId = (size: number) => {\n  return crypto.randomBytes(size | 16).toString(\"hex\");\n};\n\nexport const responseObject = ({\n  err = null,\n  data = null,\n}: {\n  err?: any;\n  data?: any;\n}) => {\n  return { err, data };\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bee34b72ba747380bfa3a2cc79c1233b3a52dd26","contentHash":"104b19fd2bc41332befc4db5e22e89322942352c92aa2c20cdc1366cce72f95c"},"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/migrations/home_migrations.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/migrations/home_migrations.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":18},"end":{"line":17,"column":1}},"13":{"start":{"line":19,"column":4},"end":{"line":122,"column":7}},"14":{"start":{"line":20,"column":8},"end":{"line":121,"column":11}},"15":{"start":{"line":22,"column":12},"end":{"line":22,"column":65}},"16":{"start":{"line":23,"column":12},"end":{"line":23,"column":54}},"17":{"start":{"line":24,"column":12},"end":{"line":24,"column":85}},"18":{"start":{"line":25,"column":12},"end":{"line":25,"column":53}},"19":{"start":{"line":26,"column":12},"end":{"line":26,"column":40}},"20":{"start":{"line":27,"column":12},"end":{"line":27,"column":38}},"21":{"start":{"line":28,"column":12},"end":{"line":28,"column":65}},"22":{"start":{"line":29,"column":12},"end":{"line":29,"column":59}},"23":{"start":{"line":30,"column":12},"end":{"line":30,"column":45}},"24":{"start":{"line":31,"column":12},"end":{"line":31,"column":45}},"25":{"start":{"line":32,"column":12},"end":{"line":32,"column":43}},"26":{"start":{"line":33,"column":12},"end":{"line":33,"column":51}},"27":{"start":{"line":34,"column":12},"end":{"line":34,"column":42}},"28":{"start":{"line":35,"column":12},"end":{"line":35,"column":47}},"29":{"start":{"line":36,"column":12},"end":{"line":36,"column":36}},"30":{"start":{"line":39,"column":12},"end":{"line":39,"column":65}},"31":{"start":{"line":40,"column":12},"end":{"line":40,"column":45}},"32":{"start":{"line":41,"column":12},"end":{"line":45,"column":26}},"33":{"start":{"line":46,"column":12},"end":{"line":46,"column":48}},"34":{"start":{"line":47,"column":12},"end":{"line":47,"column":45}},"35":{"start":{"line":48,"column":12},"end":{"line":48,"column":38}},"36":{"start":{"line":49,"column":12},"end":{"line":49,"column":42}},"37":{"start":{"line":50,"column":12},"end":{"line":50,"column":41}},"38":{"start":{"line":51,"column":12},"end":{"line":51,"column":42}},"39":{"start":{"line":52,"column":12},"end":{"line":57,"column":37}},"40":{"start":{"line":58,"column":12},"end":{"line":58,"column":45}},"41":{"start":{"line":59,"column":12},"end":{"line":67,"column":39}},"42":{"start":{"line":68,"column":12},"end":{"line":68,"column":64}},"43":{"start":{"line":69,"column":12},"end":{"line":69,"column":51}},"44":{"start":{"line":72,"column":12},"end":{"line":72,"column":49}},"45":{"start":{"line":73,"column":12},"end":{"line":78,"column":37}},"46":{"start":{"line":79,"column":12},"end":{"line":79,"column":65}},"47":{"start":{"line":80,"column":12},"end":{"line":80,"column":54}},"48":{"start":{"line":83,"column":12},"end":{"line":83,"column":45}},"49":{"start":{"line":84,"column":12},"end":{"line":84,"column":33}},"50":{"start":{"line":85,"column":12},"end":{"line":85,"column":56}},"51":{"start":{"line":88,"column":12},"end":{"line":88,"column":45}},"52":{"start":{"line":89,"column":12},"end":{"line":94,"column":37}},"53":{"start":{"line":95,"column":12},"end":{"line":100,"column":37}},"54":{"start":{"line":101,"column":12},"end":{"line":101,"column":38}},"55":{"start":{"line":104,"column":12},"end":{"line":104,"column":65}},"56":{"start":{"line":105,"column":12},"end":{"line":105,"column":83}},"57":{"start":{"line":106,"column":12},"end":{"line":111,"column":37}},"58":{"start":{"line":112,"column":12},"end":{"line":117,"column":37}},"59":{"start":{"line":118,"column":12},"end":{"line":118,"column":60}},"60":{"start":{"line":119,"column":12},"end":{"line":119,"column":38}},"61":{"start":{"line":120,"column":12},"end":{"line":120,"column":78}},"62":{"start":{"line":124,"column":0},"end":{"line":137,"column":2}},"63":{"start":{"line":125,"column":16},"end":{"line":127,"column":6}},"64":{"start":{"line":126,"column":8},"end":{"line":126,"column":32}},"65":{"start":{"line":128,"column":18},"end":{"line":136,"column":6}},"66":{"start":{"line":129,"column":8},"end":{"line":135,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"CreateTables","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":21}},"loc":{"start":{"line":18,"column":26},"end":{"line":123,"column":1}},"line":18},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":43},"end":{"line":19,"column":44}},"loc":{"start":{"line":19,"column":56},"end":{"line":122,"column":5}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":21,"column":34},"end":{"line":21,"column":35}},"loc":{"start":{"line":21,"column":45},"end":{"line":37,"column":9}},"line":21},"10":{"name":"(anonymous_10)","decl":{"start":{"line":38,"column":34},"end":{"line":38,"column":35}},"loc":{"start":{"line":38,"column":45},"end":{"line":70,"column":9}},"line":38},"11":{"name":"(anonymous_11)","decl":{"start":{"line":71,"column":37},"end":{"line":71,"column":38}},"loc":{"start":{"line":71,"column":48},"end":{"line":81,"column":9}},"line":71},"12":{"name":"(anonymous_12)","decl":{"start":{"line":82,"column":45},"end":{"line":82,"column":46}},"loc":{"start":{"line":82,"column":56},"end":{"line":86,"column":9}},"line":82},"13":{"name":"(anonymous_13)","decl":{"start":{"line":87,"column":51},"end":{"line":87,"column":52}},"loc":{"start":{"line":87,"column":62},"end":{"line":102,"column":9}},"line":87},"14":{"name":"(anonymous_14)","decl":{"start":{"line":103,"column":37},"end":{"line":103,"column":38}},"loc":{"start":{"line":103,"column":48},"end":{"line":121,"column":9}},"line":103},"15":{"name":"(anonymous_15)","decl":{"start":{"line":125,"column":8},"end":{"line":125,"column":9}},"loc":{"start":{"line":125,"column":16},"end":{"line":127,"column":6}},"line":125},"16":{"name":"(anonymous_16)","decl":{"start":{"line":125,"column":50},"end":{"line":125,"column":51}},"loc":{"start":{"line":125,"column":63},"end":{"line":127,"column":5}},"line":125},"17":{"name":"(anonymous_17)","decl":{"start":{"line":128,"column":10},"end":{"line":128,"column":11}},"loc":{"start":{"line":128,"column":18},"end":{"line":136,"column":6}},"line":128},"18":{"name":"(anonymous_18)","decl":{"start":{"line":128,"column":52},"end":{"line":128,"column":53}},"loc":{"start":{"line":128,"column":65},"end":{"line":136,"column":5}},"line":128}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":2,"2":2,"3":3,"4":2,"5":2,"6":0,"7":0,"8":0,"9":0,"10":5,"11":3,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1},"f":{"0":3,"1":2,"2":2,"3":3,"4":2,"5":0,"6":5,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1},"b":{"0":[1,1,1],"1":[0,2],"2":[3,3],"3":[3,2],"4":[3,3]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/migrations/home_migrations.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/migrations/home_migrations.ts"],"names":[],"mappings":"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","sourcesContent":["import { Knex } from \"knex\";\n\nconst locations: string[] = [\n  \"Laascanod\",\n  \"Burco\",\n  \"Hargeisa\",\n  \"Borama\",\n  \"Ceerigabo\",\n];\n\nexport = {\n  up: async (db: Knex) => {\n    return CreateTables(db);\n  },\n  down: async (db: Knex) => {\n    return await db.schema\n      .dropTableIfExists(\"payments\")\n      .dropTableIfExists(\"homes_nearby_locations\")\n      .dropTableIfExists(\"nearby_locations\")\n      .dropTableIfExists(\"sessions\")\n      .dropTableIfExists(\"homes\")\n      .dropTableIfExists(\"users\");\n  },\n};\n\nasync function CreateTables(db: Knex) {\n  return await db.schema\n    .createTable(\"users\", (table) => {\n      db.raw(\"CREATE EXTENSION IF NOT EXISTS 'uuid-ossp'\");\n      table.string(\"id\").notNullable().unique();\n      table.uuid(\"uuid\").notNullable().defaultTo(db.raw(\"uuid_generate_v4()\"));\n      table.string(\"first_name\").notNullable();\n      table.string(\"middle_name\");\n      table.string(\"last_name\");\n      table.integer(\"phone_number\").unique().notNullable();\n      table.text(\"user_name\").unique().notNullable();\n      table.string(\"profile_pic\", 255);\n      table.integer(\"whatsapp_number\");\n      table.string(\"email\").unique();\n      table.string(\"password\").notNullable();\n      table.primary([\"id\", \"uuid\"]);\n      table.string(\"salt\").notNullable();\n      table.boolean(\"active\");\n    })\n    .createTable(\"homes\", (table) => {\n      db.raw(\"CREATE EXTENSION IF NOT EXISTS 'uuid-ossp'\");\n      table.string(\"id\").notNullable();\n      table\n        .uuid(\"home_id\")\n        .notNullable()\n        .defaultTo(db.raw(\"uuid_generate_v4()\"))\n        .unique();\n      table.enu(\"type\", [\"Rent\", \"Sale\"]);\n      table.enu(\"location\", locations);\n      table.text(\"description\");\n      table.integer(\"room_numbers\");\n      table.decimal(\"price\", null);\n      table.geometry(\"coordinates\");\n      table\n        .string(\"user_id\")\n        .references(\"id\")\n        .inTable(\"users\")\n        .onDelete(\"Cascade\")\n        .onUpdate(\"Cascade\");\n      table.primary([\"id\", \"home_id\"]);\n      table\n        .enu(\"status\", [\n          \"active\",\n          \"pending payment\",\n          \"sold\",\n          \"inactive\",\n          \"not available\",\n        ])\n        .defaultTo(\"inactive\");\n      table.dateTime(\"created_at\").defaultTo(db.fn.now());\n      table.boolean(\"is_paid\").notNullable();\n    })\n    .createTable(\"sessions\", (table) => {\n      table.string(\"session_id\").primary();\n      table\n        .string(\"user_id\")\n        .references(\"id\")\n        .inTable(\"users\")\n        .onDelete(\"Cascade\")\n        .onUpdate(\"Cascade\");\n      table.dateTime(\"created_at\").defaultTo(db.fn.now(6));\n      table.boolean(\"is_revoked\").notNullable();\n    })\n    .createTable(\"nearby_locations\", (table) => {\n      table.increments(\"id\").primary();\n      table.string(\"name\");\n      table.geometry(\"coordinates\").notNullable();\n    })\n    .createTable(\"homes_nearby_locations\", (table) => {\n      table.increments(\"id\").primary();\n      table\n        .uuid(\"home_id\")\n        .references(\"home_id\")\n        .inTable(\"homes\")\n        .onDelete(\"Cascade\")\n        .onUpdate(\"Cascade\");\n      table\n        .integer(\"location_id\")\n        .references(\"id\")\n        .inTable(\"nearby_locations\")\n        .onDelete(\"Cascade\")\n        .onUpdate(\"Cascade\");\n      table.decimal(\"distance\");\n    })\n    .createTable(\"payments\", (table) => {\n      db.raw(\"CREATE EXTENSION IF NOT EXISTS 'uuid-ossp'\");\n      table.string(\"uuid\").defaultTo(db.raw(\"uuid_generate_v4()\")).primary();\n      table\n        .uuid(\"home_id\")\n        .references(\"home_id\")\n        .inTable(\"homes\")\n        .onDelete(\"Cascade\")\n        .onUpdate(\"Cascade\");\n      table\n        .string(\"user_id\")\n        .references(\"id\")\n        .inTable(\"users\")\n        .onDelete(\"Cascade\")\n        .onUpdate(\"Cascade\");\n      table.text(\"payment_description\").notNullable();\n      table.boolean(\"reversed\");\n      table.dateTime(\"created_at\").defaultTo(db.fn.now()).notNullable();\n    });\n}\n// async function createHomesTable(db: Knex) {\n//   return await db.schema.createTable(\"homes\", (table) => {\n//     db.raw(\"CREATE EXTENSION IF NOT EXISTS 'uuid-ossp'\");\n//     table.string(\"id\").notNullable();\n//     table.uuid(\"home_id\").notNullable().defaultTo(db.raw(\"uuid_generate_v4()\"));\n//     table.enu(\"type\", [\"Rent\", \"Sale\"]);\n//     table.enu(\"location\", locations);\n//     table.text(\"description\");\n//     table.integer(\"room_numbers\");\n//     table.decimal(\"price\", null);\n//     table.geometry(\"coordinates\");\n//     table\n//       .string(\"user_id\")\n//       .references(\"id\")\n//       .inTable(\"users\")\n//       .onDelete(\"Cascade\");\n//     table.primary([\"id\", \"home_id\"]);\n//   });\n// }\n// async function createLoggedIn(db: Knex) {\n//   return await db.schema;\n// }\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b07c8aa839cd696c2158e25e1d08a49bf37784d5","contentHash":"549609d7cd7b1eba827822914c276dfac696b0d9de09402170071efd0d8e991b"},"/media/omo/Stuff/myprojects/GuriRaadi/src/util/customerrors.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/util/customerrors.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":123}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":30}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":23}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":37}},"5":{"start":{"line":13,"column":8},"end":{"line":13,"column":35}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":54}},"7":{"start":{"line":19,"column":8},"end":{"line":19,"column":35}},"8":{"start":{"line":22,"column":0},"end":{"line":22,"column":50}},"9":{"start":{"line":25,"column":8},"end":{"line":25,"column":35}},"10":{"start":{"line":28,"column":0},"end":{"line":28,"column":42}},"11":{"start":{"line":31,"column":8},"end":{"line":31,"column":35}},"12":{"start":{"line":34,"column":0},"end":{"line":34,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":37},"end":{"line":9,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":87},"end":{"line":14,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":92},"end":{"line":20,"column":5}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":64},"end":{"line":26,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":64},"end":{"line":32,"column":5}},"line":30}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":16},"end":{"line":12,"column":46}},"type":"default-arg","locations":[{"start":{"line":12,"column":26},"end":{"line":12,"column":46}}],"line":12},"1":{"loc":{"start":{"line":12,"column":48},"end":{"line":12,"column":85}},"type":"default-arg","locations":[{"start":{"line":12,"column":61},"end":{"line":12,"column":85}}],"line":12},"2":{"loc":{"start":{"line":18,"column":16},"end":{"line":18,"column":51}},"type":"default-arg","locations":[{"start":{"line":18,"column":26},"end":{"line":18,"column":51}}],"line":18},"3":{"loc":{"start":{"line":18,"column":53},"end":{"line":18,"column":90}},"type":"default-arg","locations":[{"start":{"line":18,"column":66},"end":{"line":18,"column":90}}],"line":18},"4":{"loc":{"start":{"line":24,"column":25},"end":{"line":24,"column":62}},"type":"default-arg","locations":[{"start":{"line":24,"column":38},"end":{"line":24,"column":62}}],"line":24},"5":{"loc":{"start":{"line":30,"column":25},"end":{"line":30,"column":62}},"type":"default-arg","locations":[{"start":{"line":30,"column":38},"end":{"line":30,"column":62}}],"line":30}},"s":{"0":1,"1":1,"2":1,"3":3,"4":3,"5":0,"6":1,"7":2,"8":1,"9":0,"10":1,"11":1,"12":1},"f":{"0":3,"1":0,"2":2,"3":0,"4":1},"b":{"0":[0],"1":[0],"2":[0],"3":[2],"4":[0],"5":[1]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/util/customerrors.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/util/customerrors.ts"],"names":[],"mappings":";;;AAAA,+BAAoC;AAEpC,MAAM,SAAU,SAAQ,KAAK;IAE3B,YAAY,OAAe,EAAE,UAA8B;QACzD,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IAC/B,CAAC;CACF;AAED,MAAa,qBAAsB,SAAQ,SAAS;IAClD,YAAY,OAAO,GAAG,oBAAoB,EAAE,UAAU,GAAG,mBAAY,CAAC,GAAG,CAAC;QACxE,KAAK,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;IAC7B,CAAC;CACF;AAJD,sDAIC;AAED,MAAa,mBAAoB,SAAQ,SAAS;IAChD,YACE,UAAkB,yBAAyB,EAC3C,UAAU,GAAG,mBAAY,CAAC,GAAG,CAAC;QAE9B,KAAK,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;IAC7B,CAAC;CACF;AAPD,kDAOC;AACD,MAAa,eAAgB,SAAQ,SAAS;IAC5C,YAAY,OAAe,EAAE,UAAU,GAAG,mBAAY,CAAC,GAAG,CAAC;QACzD,KAAK,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;IAC7B,CAAC;CACF;AAJD,0CAIC;AAED,MAAa,iBAAkB,SAAQ,SAAS;IAC9C,YAAY,OAAe,EAAE,UAAU,GAAG,mBAAY,CAAC,GAAG,CAAC;QACzD,KAAK,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;IAC7B,CAAC;CACF;AAJD,8CAIC","sourcesContent":["import { STATUS_CODES } from \"http\";\n\nclass BaseError extends Error {\n  statusCode: string | undefined;\n  constructor(message: string, statusCode: string | undefined) {\n    super(message);\n    this.statusCode = statusCode;\n  }\n}\n\nexport class ResourceNotFoundError extends BaseError {\n  constructor(message = \"Resource Not Found\", statusCode = STATUS_CODES[404]) {\n    super(message, statusCode);\n  }\n}\n\nexport class CustomDatabaseError extends BaseError {\n  constructor(\n    message: string = \"Internal Database Error\",\n    statusCode = STATUS_CODES[500]\n  ) {\n    super(message, statusCode);\n  }\n}\nexport class ValidationError extends BaseError {\n  constructor(message: string, statusCode = STATUS_CODES[400]) {\n    super(message, statusCode);\n  }\n}\n\nexport class LoginFailureError extends BaseError {\n  constructor(message: string, statusCode = STATUS_CODES[200]) {\n    super(message, statusCode);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6a4f9eb22251a9e3928f13291bd3e97de8970ec6","contentHash":"42073ddd6d39ec3dc6882e5ce6f317037dab73fdf4e09feed5f4930ab514c934"},"/media/omo/Stuff/myprojects/GuriRaadi/src/controller/user_controller.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/controller/user_controller.ts","statementMap":{"0":{"start":{"line":8,"column":16},"end":{"line":16,"column":1}},"1":{"start":{"line":9,"column":28},"end":{"line":9,"column":110}},"2":{"start":{"line":9,"column":91},"end":{"line":9,"column":106}},"3":{"start":{"line":10,"column":4},"end":{"line":15,"column":7}},"4":{"start":{"line":11,"column":36},"end":{"line":11,"column":97}},"5":{"start":{"line":11,"column":42},"end":{"line":11,"column":70}},"6":{"start":{"line":11,"column":85},"end":{"line":11,"column":95}},"7":{"start":{"line":12,"column":35},"end":{"line":12,"column":100}},"8":{"start":{"line":12,"column":41},"end":{"line":12,"column":73}},"9":{"start":{"line":12,"column":88},"end":{"line":12,"column":98}},"10":{"start":{"line":13,"column":32},"end":{"line":13,"column":116}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":78}},"12":{"start":{"line":17,"column":22},"end":{"line":19,"column":1}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":62}},"14":{"start":{"line":20,"column":0},"end":{"line":20,"column":62}},"15":{"start":{"line":21,"column":0},"end":{"line":21,"column":147}},"16":{"start":{"line":22,"column":17},"end":{"line":22,"column":51}},"17":{"start":{"line":23,"column":13},"end":{"line":23,"column":65}},"18":{"start":{"line":24,"column":26},"end":{"line":24,"column":97}},"19":{"start":{"line":25,"column":15},"end":{"line":25,"column":38}},"20":{"start":{"line":26,"column":23},"end":{"line":26,"column":54}},"21":{"start":{"line":27,"column":17},"end":{"line":27,"column":60}},"22":{"start":{"line":28,"column":16},"end":{"line":52,"column":2}},"23":{"start":{"line":28,"column":26},"end":{"line":52,"column":2}},"24":{"start":{"line":29,"column":4},"end":{"line":51,"column":5}},"25":{"start":{"line":30,"column":28},"end":{"line":30,"column":46}},"26":{"start":{"line":32,"column":8},"end":{"line":37,"column":9}},"27":{"start":{"line":33,"column":12},"end":{"line":36,"column":15}},"28":{"start":{"line":38,"column":23},"end":{"line":38,"column":27}},"29":{"start":{"line":39,"column":8},"end":{"line":39,"column":49}},"30":{"start":{"line":40,"column":21},"end":{"line":42,"column":28}},"31":{"start":{"line":43,"column":8},"end":{"line":43,"column":50}},"32":{"start":{"line":44,"column":8},"end":{"line":44,"column":29}},"33":{"start":{"line":45,"column":8},"end":{"line":45,"column":25}},"34":{"start":{"line":46,"column":8},"end":{"line":46,"column":43}},"35":{"start":{"line":47,"column":8},"end":{"line":47,"column":74}},"36":{"start":{"line":50,"column":8},"end":{"line":50,"column":16}},"37":{"start":{"line":53,"column":0},"end":{"line":53,"column":26}},"38":{"start":{"line":54,"column":21},"end":{"line":78,"column":2}},"39":{"start":{"line":54,"column":53},"end":{"line":78,"column":2}},"40":{"start":{"line":55,"column":4},"end":{"line":77,"column":5}},"41":{"start":{"line":56,"column":21},"end":{"line":56,"column":64}},"42":{"start":{"line":57,"column":8},"end":{"line":61,"column":15}},"43":{"start":{"line":58,"column":12},"end":{"line":61,"column":15}},"44":{"start":{"line":62,"column":44},"end":{"line":62,"column":51}},"45":{"start":{"line":63,"column":21},"end":{"line":65,"column":28}},"46":{"start":{"line":66,"column":8},"end":{"line":70,"column":15}},"47":{"start":{"line":67,"column":12},"end":{"line":70,"column":15}},"48":{"start":{"line":71,"column":22},"end":{"line":71,"column":70}},"49":{"start":{"line":72,"column":23},"end":{"line":72,"column":63}},"50":{"start":{"line":73,"column":8},"end":{"line":73,"column":84}},"51":{"start":{"line":76,"column":8},"end":{"line":76,"column":20}},"52":{"start":{"line":79,"column":0},"end":{"line":79,"column":36}},"53":{"start":{"line":80,"column":20},"end":{"line":90,"column":2}},"54":{"start":{"line":80,"column":28},"end":{"line":90,"column":2}},"55":{"start":{"line":81,"column":4},"end":{"line":89,"column":5}},"56":{"start":{"line":82,"column":21},"end":{"line":82,"column":51}},"57":{"start":{"line":83,"column":8},"end":{"line":84,"column":111}},"58":{"start":{"line":84,"column":12},"end":{"line":84,"column":111}},"59":{"start":{"line":85,"column":8},"end":{"line":85,"column":72}},"60":{"start":{"line":88,"column":8},"end":{"line":88,"column":20}},"61":{"start":{"line":91,"column":0},"end":{"line":91,"column":34}},"62":{"start":{"line":92,"column":29},"end":{"line":102,"column":2}},"63":{"start":{"line":92,"column":40},"end":{"line":102,"column":2}},"64":{"start":{"line":93,"column":4},"end":{"line":101,"column":5}},"65":{"start":{"line":94,"column":21},"end":{"line":94,"column":63}},"66":{"start":{"line":95,"column":8},"end":{"line":96,"column":111}},"67":{"start":{"line":96,"column":12},"end":{"line":96,"column":111}},"68":{"start":{"line":97,"column":8},"end":{"line":97,"column":72}},"69":{"start":{"line":100,"column":8},"end":{"line":100,"column":20}},"70":{"start":{"line":103,"column":0},"end":{"line":103,"column":52}},"71":{"start":{"line":104,"column":23},"end":{"line":116,"column":2}},"72":{"start":{"line":104,"column":31},"end":{"line":116,"column":2}},"73":{"start":{"line":106,"column":4},"end":{"line":115,"column":5}},"74":{"start":{"line":107,"column":21},"end":{"line":107,"column":54}},"75":{"start":{"line":108,"column":8},"end":{"line":109,"column":61}},"76":{"start":{"line":109,"column":12},"end":{"line":109,"column":61}},"77":{"start":{"line":110,"column":28},"end":{"line":110,"column":123}},"78":{"start":{"line":111,"column":8},"end":{"line":111,"column":94}},"79":{"start":{"line":114,"column":8},"end":{"line":114,"column":20}},"80":{"start":{"line":117,"column":0},"end":{"line":117,"column":40}},"81":{"start":{"line":118,"column":19},"end":{"line":126,"column":2}},"82":{"start":{"line":118,"column":27},"end":{"line":126,"column":2}},"83":{"start":{"line":119,"column":4},"end":{"line":125,"column":5}},"84":{"start":{"line":120,"column":24},"end":{"line":120,"column":50}},"85":{"start":{"line":121,"column":8},"end":{"line":121,"column":92}},"86":{"start":{"line":124,"column":8},"end":{"line":124,"column":20}},"87":{"start":{"line":127,"column":0},"end":{"line":127,"column":32}},"88":{"start":{"line":128,"column":21},"end":{"line":131,"column":1}},"89":{"start":{"line":130,"column":4},"end":{"line":130,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":44},"end":{"line":8,"column":45}},"loc":{"start":{"line":8,"column":89},"end":{"line":16,"column":1}},"line":8},"1":{"name":"adopt","decl":{"start":{"line":9,"column":13},"end":{"line":9,"column":18}},"loc":{"start":{"line":9,"column":26},"end":{"line":9,"column":112}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":70},"end":{"line":9,"column":71}},"loc":{"start":{"line":9,"column":89},"end":{"line":9,"column":108}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":36},"end":{"line":10,"column":37}},"loc":{"start":{"line":10,"column":63},"end":{"line":15,"column":5}},"line":10},"4":{"name":"fulfilled","decl":{"start":{"line":11,"column":17},"end":{"line":11,"column":26}},"loc":{"start":{"line":11,"column":34},"end":{"line":11,"column":99}},"line":11},"5":{"name":"rejected","decl":{"start":{"line":12,"column":17},"end":{"line":12,"column":25}},"loc":{"start":{"line":12,"column":33},"end":{"line":12,"column":102}},"line":12},"6":{"name":"step","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":21}},"loc":{"start":{"line":13,"column":30},"end":{"line":13,"column":118}},"line":13},"7":{"name":"(anonymous_7)","decl":{"start":{"line":17,"column":56},"end":{"line":17,"column":57}},"loc":{"start":{"line":17,"column":71},"end":{"line":19,"column":1}},"line":17},"8":{"name":"(anonymous_8)","decl":{"start":{"line":28,"column":16},"end":{"line":28,"column":17}},"loc":{"start":{"line":28,"column":26},"end":{"line":52,"column":2}},"line":28},"9":{"name":"(anonymous_9)","decl":{"start":{"line":28,"column":60},"end":{"line":28,"column":61}},"loc":{"start":{"line":28,"column":73},"end":{"line":52,"column":1}},"line":28},"10":{"name":"(anonymous_10)","decl":{"start":{"line":54,"column":21},"end":{"line":54,"column":22}},"loc":{"start":{"line":54,"column":53},"end":{"line":78,"column":2}},"line":54},"11":{"name":"(anonymous_11)","decl":{"start":{"line":54,"column":87},"end":{"line":54,"column":88}},"loc":{"start":{"line":54,"column":100},"end":{"line":78,"column":1}},"line":54},"12":{"name":"(anonymous_12)","decl":{"start":{"line":80,"column":20},"end":{"line":80,"column":21}},"loc":{"start":{"line":80,"column":28},"end":{"line":90,"column":2}},"line":80},"13":{"name":"(anonymous_13)","decl":{"start":{"line":80,"column":62},"end":{"line":80,"column":63}},"loc":{"start":{"line":80,"column":75},"end":{"line":90,"column":1}},"line":80},"14":{"name":"(anonymous_14)","decl":{"start":{"line":92,"column":29},"end":{"line":92,"column":30}},"loc":{"start":{"line":92,"column":40},"end":{"line":102,"column":2}},"line":92},"15":{"name":"(anonymous_15)","decl":{"start":{"line":92,"column":74},"end":{"line":92,"column":75}},"loc":{"start":{"line":92,"column":87},"end":{"line":102,"column":1}},"line":92},"16":{"name":"(anonymous_16)","decl":{"start":{"line":104,"column":23},"end":{"line":104,"column":24}},"loc":{"start":{"line":104,"column":31},"end":{"line":116,"column":2}},"line":104},"17":{"name":"(anonymous_17)","decl":{"start":{"line":104,"column":65},"end":{"line":104,"column":66}},"loc":{"start":{"line":104,"column":78},"end":{"line":116,"column":1}},"line":104},"18":{"name":"(anonymous_18)","decl":{"start":{"line":118,"column":19},"end":{"line":118,"column":20}},"loc":{"start":{"line":118,"column":27},"end":{"line":126,"column":2}},"line":118},"19":{"name":"(anonymous_19)","decl":{"start":{"line":118,"column":61},"end":{"line":118,"column":62}},"loc":{"start":{"line":118,"column":74},"end":{"line":126,"column":1}},"line":118},"20":{"name":"(anonymous_20)","decl":{"start":{"line":128,"column":21},"end":{"line":128,"column":22}},"loc":{"start":{"line":128,"column":31},"end":{"line":131,"column":1}},"line":128}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":16},"end":{"line":16,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":17},"end":{"line":8,"column":21}},{"start":{"line":8,"column":25},"end":{"line":8,"column":39}},{"start":{"line":8,"column":44},"end":{"line":16,"column":1}}],"line":8},"1":{"loc":{"start":{"line":9,"column":35},"end":{"line":9,"column":109}},"type":"cond-expr","locations":[{"start":{"line":9,"column":56},"end":{"line":9,"column":61}},{"start":{"line":9,"column":64},"end":{"line":9,"column":109}}],"line":9},"2":{"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":34}},"type":"binary-expr","locations":[{"start":{"line":10,"column":16},"end":{"line":10,"column":17}},{"start":{"line":10,"column":22},"end":{"line":10,"column":33}}],"line":10},"3":{"loc":{"start":{"line":13,"column":32},"end":{"line":13,"column":115}},"type":"cond-expr","locations":[{"start":{"line":13,"column":46},"end":{"line":13,"column":67}},{"start":{"line":13,"column":70},"end":{"line":13,"column":115}}],"line":13},"4":{"loc":{"start":{"line":14,"column":51},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":51},"end":{"line":14,"column":61}},{"start":{"line":14,"column":65},"end":{"line":14,"column":67}}],"line":14},"5":{"loc":{"start":{"line":17,"column":22},"end":{"line":19,"column":1}},"type":"binary-expr","locations":[{"start":{"line":17,"column":23},"end":{"line":17,"column":27}},{"start":{"line":17,"column":31},"end":{"line":17,"column":51}},{"start":{"line":17,"column":56},"end":{"line":19,"column":1}}],"line":17},"6":{"loc":{"start":{"line":18,"column":11},"end":{"line":18,"column":61}},"type":"cond-expr","locations":[{"start":{"line":18,"column":37},"end":{"line":18,"column":40}},{"start":{"line":18,"column":43},"end":{"line":18,"column":61}}],"line":18},"7":{"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":33}},"type":"binary-expr","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":15}},{"start":{"line":18,"column":19},"end":{"line":18,"column":33}}],"line":18},"8":{"loc":{"start":{"line":32,"column":8},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":37,"column":9}},{"start":{"line":32,"column":8},"end":{"line":37,"column":9}}],"line":32},"9":{"loc":{"start":{"line":57,"column":8},"end":{"line":61,"column":15}},"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":61,"column":15}},{"start":{"line":57,"column":8},"end":{"line":61,"column":15}}],"line":57},"10":{"loc":{"start":{"line":66,"column":8},"end":{"line":70,"column":15}},"type":"if","locations":[{"start":{"line":66,"column":8},"end":{"line":70,"column":15}},{"start":{"line":66,"column":8},"end":{"line":70,"column":15}}],"line":66},"11":{"loc":{"start":{"line":83,"column":8},"end":{"line":84,"column":111}},"type":"if","locations":[{"start":{"line":83,"column":8},"end":{"line":84,"column":111}},{"start":{"line":83,"column":8},"end":{"line":84,"column":111}}],"line":83},"12":{"loc":{"start":{"line":95,"column":8},"end":{"line":96,"column":111}},"type":"if","locations":[{"start":{"line":95,"column":8},"end":{"line":96,"column":111}},{"start":{"line":95,"column":8},"end":{"line":96,"column":111}}],"line":95},"13":{"loc":{"start":{"line":108,"column":8},"end":{"line":109,"column":61}},"type":"if","locations":[{"start":{"line":108,"column":8},"end":{"line":109,"column":61}},{"start":{"line":108,"column":8},"end":{"line":109,"column":61}}],"line":108},"14":{"loc":{"start":{"line":110,"column":65},"end":{"line":110,"column":122}},"type":"cond-expr","locations":[{"start":{"line":110,"column":108},"end":{"line":110,"column":114}},{"start":{"line":110,"column":117},"end":{"line":110,"column":122}}],"line":110},"15":{"loc":{"start":{"line":110,"column":65},"end":{"line":110,"column":105}},"type":"binary-expr","locations":[{"start":{"line":110,"column":65},"end":{"line":110,"column":88}},{"start":{"line":110,"column":92},"end":{"line":110,"column":105}}],"line":110}},"s":{"0":1,"1":16,"2":0,"3":10,"4":15,"5":15,"6":0,"7":1,"8":1,"9":1,"10":25,"11":10,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":4,"24":4,"25":4,"26":4,"27":0,"28":4,"29":4,"30":4,"31":4,"32":4,"33":4,"34":4,"35":3,"36":1,"37":1,"38":1,"39":2,"40":2,"41":2,"42":2,"43":0,"44":2,"45":2,"46":2,"47":1,"48":1,"49":1,"50":1,"51":0,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":0,"59":1,"60":0,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":0,"68":1,"69":0,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":0,"77":1,"78":1,"79":0,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":0,"87":1,"88":1,"89":4},"f":{"0":10,"1":16,"2":0,"3":10,"4":15,"5":1,"6":25,"7":3,"8":4,"9":4,"10":2,"11":2,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":4},"b":{"0":[1,1,1],"1":[16,0],"2":[10,10],"3":[9,16],"4":[10,10],"5":[1,1,1],"6":[2,1],"7":[3,3],"8":[0,4],"9":[0,2],"10":[1,1],"11":[0,1],"12":[0,1],"13":[0,1],"14":[0,1],"15":[1,1]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/controller/user_controller.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/controller/user_controller.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n *\n * User Controller Functions,\n * Business Logic with Regards to User\n *\n */\n\nimport crypto, { BinaryLike } from \"crypto\";\nimport db from \"../data-access/config/db\";\nimport UserRepo from \"../data-access/repositories/user_repository\";\nimport { UserModel, UserObject } from \"../data-access/repositories/user_model\";\nimport { genRandomId, getCryptoRandomId, responseObject } from \"../util/util\";\nimport {\n  LoginFailureError,\n  ResourceNotFoundError,\n  ValidationError,\n} from \"../util/customerrors\";\n\nconst userRepo: UserModel = new UserRepo(db);\n\nexport const addUser = async (user: UserObject) => {\n  try {\n    const isValidUser = validateUser(user);\n    let res: Pick<UserObject, \"id\">[];\n    if (isValidUser.err !== null) {\n      return responseObject({\n        err: new ValidationError(isValidUser.err),\n        data: null,\n      });\n    }\n    let { salt } = user;\n\n    salt = getCryptoRandomId(16);\n    const hash = crypto\n      .pbkdf2Sync(user.password, salt, 1000, 64, \"sha512\")\n      .toString(\"hex\");\n    user.id = await genRandomId();\n    user.password = hash;\n    user.salt = salt;\n    res = await userRepo.addUser(user);\n\n    return responseObject({ data: res[0].id, err: null });\n  } catch (e) {\n    throw e;\n  }\n};\nexport const loginHandler = async ({\n  phoneNumber,\n  password,\n}: {\n  phoneNumber: number;\n  password: string;\n}) => {\n  try {\n    const user: UserObject[] = await userRepo.getUserByNumber(phoneNumber);\n    if (user.length === 0)\n      return responseObject({\n        err: new LoginFailureError(\"Phone Number or Password do not match\"),\n        data: null,\n      });\n    const { salt, password: pwd, id } = user[0];\n\n    const hash = crypto\n      .pbkdf2Sync(password, salt, 1000, 64, \"sha512\")\n      .toString(\"hex\");\n    if (hash !== pwd)\n      return responseObject({\n        err: new LoginFailureError(\"Phone Number or Password do not match\"),\n        data: null,\n      });\n    const token = crypto.randomBytes(64).toString(\"hex\");\n    const result = await userRepo.addUserSession(id, token);\n\n    return responseObject({ err: null, data: result[0].sessionId });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getUserById = async (id: string) => {\n  try {\n    const user: UserObject[] = await userRepo.getUserById(id);\n    if (user.length === 0)\n      return responseObject({ err: new ResourceNotFoundError(), data: null });\n\n    return responseObject({ err: null, data: user[0] });\n  } catch (error) {\n    throw error;\n  }\n};\nexport const getUserFromSessionId = async (token: string) => {\n  try {\n    const user = await userRepo.getUserFromSessionId(token);\n    if (user.length === 0)\n      return responseObject({ err: new ResourceNotFoundError(), data: null });\n    return responseObject({ err: null, data: user[0] });\n  } catch (error) {\n    throw error;\n  }\n};\nexport const deactivateUser = async (id: string) => {\n  try {\n    const user: Pick<UserObject, \"id\">[] = await userRepo.deactivateUser(id);\n    if (user.length === 0) throw new ResourceNotFoundError();\n    const delSessions = await userRepo.deleteAllUserSessions(user[0]?.id);\n    return responseObject({ data: \"Sessions deleted successful\", err: null });\n  } catch (error) {\n    throw error;\n  }\n};\nexport const removeUser = async (id: string) => {\n  try {\n    const deleted = await userRepo.delUser(id);\n    return responseObject({ data: \"User successfully deleted\", err: null });\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst validateUser = (user: UserObject): { err: string | null } => {\n  //TODO validate user\n  return { err: null };\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0b5942447aa61f88260f4191dd0925bd2118c995","contentHash":"3dd5869b5a27a87a4ee69c5daf5e86d0da5fab9170be440541aee431e6d5a819"},"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/repositories/user_repository.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/repositories/user_repository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":23},"end":{"line":12,"column":57}},"14":{"start":{"line":15,"column":8},"end":{"line":15,"column":73}},"15":{"start":{"line":15,"column":28},"end":{"line":15,"column":72}},"16":{"start":{"line":16,"column":8},"end":{"line":16,"column":79}},"17":{"start":{"line":16,"column":31},"end":{"line":16,"column":78}},"18":{"start":{"line":19,"column":8},"end":{"line":26,"column":11}},"19":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"20":{"start":{"line":21,"column":16},"end":{"line":21,"column":72}},"21":{"start":{"line":24,"column":16},"end":{"line":24,"column":76}},"22":{"start":{"line":29,"column":8},"end":{"line":36,"column":11}},"23":{"start":{"line":30,"column":12},"end":{"line":35,"column":13}},"24":{"start":{"line":31,"column":16},"end":{"line":31,"column":71}},"25":{"start":{"line":34,"column":16},"end":{"line":34,"column":76}},"26":{"start":{"line":39,"column":8},"end":{"line":46,"column":11}},"27":{"start":{"line":40,"column":12},"end":{"line":45,"column":13}},"28":{"start":{"line":41,"column":16},"end":{"line":41,"column":77}},"29":{"start":{"line":44,"column":16},"end":{"line":44,"column":74}},"30":{"start":{"line":49,"column":8},"end":{"line":56,"column":11}},"31":{"start":{"line":50,"column":12},"end":{"line":55,"column":13}},"32":{"start":{"line":51,"column":16},"end":{"line":51,"column":89}},"33":{"start":{"line":54,"column":16},"end":{"line":54,"column":76}},"34":{"start":{"line":59,"column":8},"end":{"line":66,"column":11}},"35":{"start":{"line":60,"column":12},"end":{"line":65,"column":13}},"36":{"start":{"line":61,"column":16},"end":{"line":61,"column":85}},"37":{"start":{"line":64,"column":16},"end":{"line":64,"column":76}},"38":{"start":{"line":69,"column":8},"end":{"line":76,"column":11}},"39":{"start":{"line":70,"column":12},"end":{"line":75,"column":13}},"40":{"start":{"line":71,"column":16},"end":{"line":71,"column":55}},"41":{"start":{"line":74,"column":16},"end":{"line":74,"column":76}},"42":{"start":{"line":79,"column":8},"end":{"line":86,"column":11}},"43":{"start":{"line":80,"column":12},"end":{"line":85,"column":13}},"44":{"start":{"line":81,"column":16},"end":{"line":81,"column":65}},"45":{"start":{"line":84,"column":16},"end":{"line":84,"column":76}},"46":{"start":{"line":89,"column":8},"end":{"line":98,"column":11}},"47":{"start":{"line":90,"column":12},"end":{"line":97,"column":13}},"48":{"start":{"line":91,"column":16},"end":{"line":93,"column":44}},"49":{"start":{"line":96,"column":16},"end":{"line":96,"column":76}},"50":{"start":{"line":101,"column":8},"end":{"line":111,"column":11}},"51":{"start":{"line":102,"column":12},"end":{"line":110,"column":13}},"52":{"start":{"line":103,"column":16},"end":{"line":106,"column":33}},"53":{"start":{"line":109,"column":16},"end":{"line":109,"column":74}},"54":{"start":{"line":114,"column":8},"end":{"line":121,"column":11}},"55":{"start":{"line":115,"column":12},"end":{"line":120,"column":13}},"56":{"start":{"line":116,"column":16},"end":{"line":116,"column":89}},"57":{"start":{"line":119,"column":16},"end":{"line":119,"column":76}},"58":{"start":{"line":124,"column":8},"end":{"line":131,"column":11}},"59":{"start":{"line":125,"column":12},"end":{"line":130,"column":13}},"60":{"start":{"line":126,"column":16},"end":{"line":126,"column":72}},"61":{"start":{"line":129,"column":16},"end":{"line":129,"column":76}},"62":{"start":{"line":134,"column":0},"end":{"line":134,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":22},"end":{"line":17,"column":5}},"line":14},"8":{"name":"(anonymous_8)","decl":{"start":{"line":15,"column":22},"end":{"line":15,"column":23}},"loc":{"start":{"line":15,"column":28},"end":{"line":15,"column":72}},"line":15},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":25},"end":{"line":16,"column":26}},"loc":{"start":{"line":16,"column":31},"end":{"line":16,"column":78}},"line":16},"10":{"name":"(anonymous_10)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":18},"end":{"line":27,"column":5}},"line":18},"11":{"name":"(anonymous_11)","decl":{"start":{"line":19,"column":47},"end":{"line":19,"column":48}},"loc":{"start":{"line":19,"column":60},"end":{"line":26,"column":9}},"line":19},"12":{"name":"(anonymous_12)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":20},"end":{"line":37,"column":5}},"line":28},"13":{"name":"(anonymous_13)","decl":{"start":{"line":29,"column":47},"end":{"line":29,"column":48}},"loc":{"start":{"line":29,"column":60},"end":{"line":36,"column":9}},"line":29},"14":{"name":"(anonymous_14)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":26},"end":{"line":47,"column":5}},"line":38},"15":{"name":"(anonymous_15)","decl":{"start":{"line":39,"column":47},"end":{"line":39,"column":48}},"loc":{"start":{"line":39,"column":60},"end":{"line":46,"column":9}},"line":39},"16":{"name":"(anonymous_16)","decl":{"start":{"line":48,"column":4},"end":{"line":48,"column":5}},"loc":{"start":{"line":48,"column":33},"end":{"line":57,"column":5}},"line":48},"17":{"name":"(anonymous_17)","decl":{"start":{"line":49,"column":47},"end":{"line":49,"column":48}},"loc":{"start":{"line":49,"column":60},"end":{"line":56,"column":9}},"line":49},"18":{"name":"(anonymous_18)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":26},"end":{"line":67,"column":5}},"line":58},"19":{"name":"(anonymous_19)","decl":{"start":{"line":59,"column":47},"end":{"line":59,"column":48}},"loc":{"start":{"line":59,"column":60},"end":{"line":66,"column":9}},"line":59},"20":{"name":"(anonymous_20)","decl":{"start":{"line":68,"column":4},"end":{"line":68,"column":5}},"loc":{"start":{"line":68,"column":18},"end":{"line":77,"column":5}},"line":68},"21":{"name":"(anonymous_21)","decl":{"start":{"line":69,"column":47},"end":{"line":69,"column":48}},"loc":{"start":{"line":69,"column":60},"end":{"line":76,"column":9}},"line":69},"22":{"name":"(anonymous_22)","decl":{"start":{"line":78,"column":4},"end":{"line":78,"column":5}},"loc":{"start":{"line":78,"column":16},"end":{"line":87,"column":5}},"line":78},"23":{"name":"(anonymous_23)","decl":{"start":{"line":79,"column":47},"end":{"line":79,"column":48}},"loc":{"start":{"line":79,"column":60},"end":{"line":86,"column":9}},"line":79},"24":{"name":"(anonymous_24)","decl":{"start":{"line":88,"column":4},"end":{"line":88,"column":5}},"loc":{"start":{"line":88,"column":30},"end":{"line":99,"column":5}},"line":88},"25":{"name":"(anonymous_25)","decl":{"start":{"line":89,"column":47},"end":{"line":89,"column":48}},"loc":{"start":{"line":89,"column":60},"end":{"line":98,"column":9}},"line":89},"26":{"name":"(anonymous_26)","decl":{"start":{"line":100,"column":4},"end":{"line":100,"column":5}},"loc":{"start":{"line":100,"column":32},"end":{"line":112,"column":5}},"line":100},"27":{"name":"(anonymous_27)","decl":{"start":{"line":101,"column":47},"end":{"line":101,"column":48}},"loc":{"start":{"line":101,"column":60},"end":{"line":111,"column":9}},"line":101},"28":{"name":"(anonymous_28)","decl":{"start":{"line":113,"column":4},"end":{"line":113,"column":5}},"loc":{"start":{"line":113,"column":23},"end":{"line":122,"column":5}},"line":113},"29":{"name":"(anonymous_29)","decl":{"start":{"line":114,"column":47},"end":{"line":114,"column":48}},"loc":{"start":{"line":114,"column":60},"end":{"line":121,"column":9}},"line":114},"30":{"name":"(anonymous_30)","decl":{"start":{"line":123,"column":4},"end":{"line":123,"column":5}},"loc":{"start":{"line":123,"column":30},"end":{"line":132,"column":5}},"line":123},"31":{"name":"(anonymous_31)","decl":{"start":{"line":124,"column":47},"end":{"line":124,"column":48}},"loc":{"start":{"line":124,"column":60},"end":{"line":131,"column":9}},"line":124}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":12,"2":12,"3":12,"4":11,"5":11,"6":0,"7":1,"8":1,"9":1,"10":23,"11":12,"12":1,"13":1,"14":1,"15":10,"16":1,"17":2,"18":4,"19":4,"20":4,"21":1,"22":1,"23":1,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":2,"31":2,"32":2,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":1,"44":1,"45":0,"46":1,"47":1,"48":1,"49":0,"50":1,"51":1,"52":1,"53":0,"54":1,"55":1,"56":1,"57":0,"58":1,"59":1,"60":1,"61":0,"62":1},"f":{"0":12,"1":12,"2":12,"3":12,"4":11,"5":1,"6":23,"7":1,"8":10,"9":2,"10":4,"11":4,"12":1,"13":1,"14":0,"15":0,"16":2,"17":2,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1},"b":{"0":[1,1,1],"1":[0,12],"2":[12,12],"3":[11,12],"4":[12,12]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/repositories/user_repository.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/repositories/user_repository.ts"],"names":[],"mappings":"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","sourcesContent":["import { Knex } from \"knex\";\nimport { CustomDatabaseError } from \"../../util/customerrors\";\nimport { UserObject, SessionObject } from \"./user_model\";\n\nexport default class UserRepo {\n  private UserDb;\n  private sessionDb;\n  constructor(knex: Knex) {\n    this.UserDb = () =>\n      knex<UserObject>(\"users\").queryContext(\"crud_functions\");\n    this.sessionDb = () =>\n      knex<SessionObject>(\"sessions\").queryContext(\"crud_functions\");\n  }\n  async addUser(user: UserObject) {\n    try {\n      return await this.UserDb().insert(user).returning(\"id\");\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n  async getUserById(id: string) {\n    try {\n      return await this.UserDb().where(\"id\", id).select(\"*\");\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n  async getUserByEmail(email: string) {\n    try {\n      return await this.UserDb().where(\"email\", email).select(\"*\");\n    } catch (err: any) {\n      throw new CustomDatabaseError(err.message);\n    }\n  }\n  async getUserByNumber(phoneNumber: number) {\n    try {\n      return await this.UserDb().where(\"phoneNumber\", phoneNumber).select(\"*\");\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n  async getUserSession(token: string) {\n    try {\n      return await this.sessionDb().where(\"session_id\", token).select(\"*\");\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n  async getAllUsers() {\n    try {\n      return await this.UserDb().select(\"*\");\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n  async delUser(id: string) {\n    try {\n      return await this.UserDb().where(\"id\", id).del();\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n\n  async addUserSession(id: string, token: string) {\n    try {\n      return await this.sessionDb()\n        .insert({ sessionId: token, userId: id, isRevoked: false })\n        .returning(\"sessionId\");\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n  async getUserFromSessionId(token: string) {\n    try {\n      return await this.UserDb()\n        .join(\"sessions\", \"users.id\", \"sessions.user_id\")\n        .where(\"sessions.sessionId\", token)\n        .select(\"*\");\n    } catch (err: any) {\n      throw new CustomDatabaseError(err.message);\n    }\n  }\n  async deactivateUser(id: string) {\n    try {\n      return await this.UserDb().update(\"active\", false, \"id\").where(\"id\", id);\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n  async deleteAllUserSessions(id: string) {\n    try {\n      return await this.sessionDb().where(\"userId\", id).del();\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d2a13de9199329008e392b1c9c1c01ce6868d8d5","contentHash":"15ed907b8f78d3ffd9ef61858f9693201fbe254e3f0a686d7082e79175be989d"},"/media/omo/Stuff/myprojects/GuriRaadi/src/controller/home_controller.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/controller/home_controller.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":94}},"16":{"start":{"line":16,"column":13},"end":{"line":16,"column":65}},"17":{"start":{"line":17,"column":26},"end":{"line":17,"column":97}},"18":{"start":{"line":18,"column":21},"end":{"line":18,"column":70}},"19":{"start":{"line":19,"column":15},"end":{"line":19,"column":38}},"20":{"start":{"line":20,"column":23},"end":{"line":20,"column":54}},"21":{"start":{"line":21,"column":17},"end":{"line":21,"column":60}},"22":{"start":{"line":22,"column":16},"end":{"line":42,"column":2}},"23":{"start":{"line":22,"column":26},"end":{"line":42,"column":2}},"24":{"start":{"line":23,"column":4},"end":{"line":41,"column":5}},"25":{"start":{"line":24,"column":26},"end":{"line":24,"column":47}},"26":{"start":{"line":25,"column":8},"end":{"line":29,"column":15}},"27":{"start":{"line":26,"column":12},"end":{"line":29,"column":15}},"28":{"start":{"line":30,"column":8},"end":{"line":30,"column":51}},"29":{"start":{"line":31,"column":23},"end":{"line":31,"column":51}},"30":{"start":{"line":32,"column":8},"end":{"line":36,"column":15}},"31":{"start":{"line":33,"column":12},"end":{"line":36,"column":15}},"32":{"start":{"line":37,"column":8},"end":{"line":37,"column":77}},"33":{"start":{"line":40,"column":8},"end":{"line":40,"column":20}},"34":{"start":{"line":43,"column":0},"end":{"line":43,"column":26}},"35":{"start":{"line":44,"column":23},"end":{"line":54,"column":2}},"36":{"start":{"line":44,"column":31},"end":{"line":54,"column":2}},"37":{"start":{"line":45,"column":4},"end":{"line":53,"column":5}},"38":{"start":{"line":46,"column":24},"end":{"line":46,"column":89}},"39":{"start":{"line":47,"column":8},"end":{"line":49,"column":106}},"40":{"start":{"line":52,"column":8},"end":{"line":52,"column":20}},"41":{"start":{"line":55,"column":0},"end":{"line":55,"column":40}},"42":{"start":{"line":56,"column":20},"end":{"line":69,"column":2}},"43":{"start":{"line":56,"column":28},"end":{"line":69,"column":2}},"44":{"start":{"line":57,"column":4},"end":{"line":68,"column":5}},"45":{"start":{"line":58,"column":21},"end":{"line":58,"column":51}},"46":{"start":{"line":59,"column":8},"end":{"line":63,"column":15}},"47":{"start":{"line":60,"column":12},"end":{"line":63,"column":15}},"48":{"start":{"line":64,"column":8},"end":{"line":64,"column":61}},"49":{"start":{"line":67,"column":8},"end":{"line":67,"column":20}},"50":{"start":{"line":70,"column":0},"end":{"line":70,"column":34}},"51":{"start":{"line":71,"column":20},"end":{"line":79,"column":2}},"52":{"start":{"line":71,"column":30},"end":{"line":79,"column":2}},"53":{"start":{"line":72,"column":4},"end":{"line":78,"column":5}},"54":{"start":{"line":73,"column":22},"end":{"line":73,"column":54}},"55":{"start":{"line":74,"column":8},"end":{"line":74,"column":70}},"56":{"start":{"line":77,"column":8},"end":{"line":77,"column":20}},"57":{"start":{"line":80,"column":0},"end":{"line":80,"column":34}},"58":{"start":{"line":81,"column":24},"end":{"line":85,"column":1}},"59":{"start":{"line":84,"column":4},"end":{"line":84,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":22,"column":16},"end":{"line":22,"column":17}},"loc":{"start":{"line":22,"column":26},"end":{"line":42,"column":2}},"line":22},"9":{"name":"(anonymous_9)","decl":{"start":{"line":22,"column":60},"end":{"line":22,"column":61}},"loc":{"start":{"line":22,"column":73},"end":{"line":42,"column":1}},"line":22},"10":{"name":"(anonymous_10)","decl":{"start":{"line":44,"column":23},"end":{"line":44,"column":24}},"loc":{"start":{"line":44,"column":31},"end":{"line":54,"column":2}},"line":44},"11":{"name":"(anonymous_11)","decl":{"start":{"line":44,"column":65},"end":{"line":44,"column":66}},"loc":{"start":{"line":44,"column":78},"end":{"line":54,"column":1}},"line":44},"12":{"name":"(anonymous_12)","decl":{"start":{"line":56,"column":20},"end":{"line":56,"column":21}},"loc":{"start":{"line":56,"column":28},"end":{"line":69,"column":2}},"line":56},"13":{"name":"(anonymous_13)","decl":{"start":{"line":56,"column":62},"end":{"line":56,"column":63}},"loc":{"start":{"line":56,"column":75},"end":{"line":69,"column":1}},"line":56},"14":{"name":"(anonymous_14)","decl":{"start":{"line":71,"column":20},"end":{"line":71,"column":21}},"loc":{"start":{"line":71,"column":30},"end":{"line":79,"column":2}},"line":71},"15":{"name":"(anonymous_15)","decl":{"start":{"line":71,"column":64},"end":{"line":71,"column":65}},"loc":{"start":{"line":71,"column":77},"end":{"line":79,"column":1}},"line":71},"16":{"name":"(anonymous_16)","decl":{"start":{"line":81,"column":24},"end":{"line":81,"column":25}},"loc":{"start":{"line":81,"column":40},"end":{"line":85,"column":1}},"line":81}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":25,"column":8},"end":{"line":29,"column":15}},"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":29,"column":15}},{"start":{"line":25,"column":8},"end":{"line":29,"column":15}}],"line":25},"9":{"loc":{"start":{"line":32,"column":8},"end":{"line":36,"column":15}},"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":36,"column":15}},{"start":{"line":32,"column":8},"end":{"line":36,"column":15}}],"line":32},"10":{"loc":{"start":{"line":47,"column":15},"end":{"line":49,"column":105}},"type":"cond-expr","locations":[{"start":{"line":48,"column":14},"end":{"line":48,"column":84}},{"start":{"line":49,"column":14},"end":{"line":49,"column":105}}],"line":47},"11":{"loc":{"start":{"line":59,"column":8},"end":{"line":63,"column":15}},"type":"if","locations":[{"start":{"line":59,"column":8},"end":{"line":63,"column":15}},{"start":{"line":59,"column":8},"end":{"line":63,"column":15}}],"line":59},"12":{"loc":{"start":{"line":59,"column":12},"end":{"line":59,"column":47}},"type":"binary-expr","locations":[{"start":{"line":59,"column":12},"end":{"line":59,"column":30}},{"start":{"line":59,"column":34},"end":{"line":59,"column":47}}],"line":59}},"s":{"0":1,"1":5,"2":0,"3":5,"4":4,"5":4,"6":0,"7":1,"8":1,"9":1,"10":9,"11":5,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":2,"24":2,"25":2,"26":2,"27":0,"28":2,"29":2,"30":1,"31":0,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":0,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":0,"48":1,"49":0,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":0,"57":1,"58":1,"59":2},"f":{"0":5,"1":5,"2":0,"3":5,"4":4,"5":1,"6":9,"7":2,"8":2,"9":2,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":2},"b":{"0":[1,1,1],"1":[5,0],"2":[5,5],"3":[4,5],"4":[5,5],"5":[1,1,1],"6":[2,0],"7":[2,2],"8":[0,2],"9":[0,1],"10":[1,0],"11":[0,1],"12":[1,1]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/controller/home_controller.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/controller/home_controller.ts"],"names":[],"mappings":"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","sourcesContent":["import db from \"../data-access/config/db\";\nimport HomeRepo from \"../data-access/repositories/home_repository\";\nimport {\n  HomeModel,\n  HomeObject,\n  Status,\n} from \"../data-access/repositories/home_model\";\nimport { getCryptoRandomId, responseObject } from \"../util/util\";\nimport { ResourceNotFoundError, ValidationError } from \"../util/customerrors\";\n\nconst homeRepo: HomeModel = new HomeRepo(db);\n\nexport const addHome = async (home: HomeObject) => {\n  try {\n    const isHomeObj = validateHomeObj(home);\n    if (isHomeObj.err)\n      return responseObject({\n        err: new ValidationError(isHomeObj.err),\n        data: null,\n      });\n    home.id = getCryptoRandomId(8);\n    const homeId = await homeRepo.addHome(home);\n    if (homeId.length === 0)\n      return responseObject({\n        err: new ResourceNotFoundError(),\n        data: null,\n      });\n    return responseObject({ data: homeId[0].id, err: null });\n  } catch (error) {\n    throw error;\n  }\n};\nexport const deactivateHome = async (id: string) => {\n  try {\n    const updated = await homeRepo.changeHomeStatus(Status.Inactive, id);\n    return updated > 0\n      ? responseObject({ err: null, data: \"Home status updated\" })\n      : responseObject({ err: new ResourceNotFoundError(), data: null });\n  } catch (error) {\n    throw error;\n  }\n};\nexport const getHomeById = async (id: string) => {\n  try {\n    const home = await homeRepo.getHomebyID(id);\n    if (home === undefined || home === null)\n      return responseObject({\n        err: new ResourceNotFoundError(),\n        data: null,\n      });\n    return responseObject({ data: home[0] });\n  } catch (error) {\n    throw error;\n  }\n};\nexport const getAllHomes = async (opts: object) => {\n  try {\n    const homes = await homeRepo.getAllHomes(opts);\n    return responseObject({ data: homes, err: null });\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst validateHomeObj = function (home: any): { err: string | null } {\n  //TODO Add more validations\n  //return \"type\" in home && (home.type === \"Rent\" || home.type === \"Sale\");\n  return { err: \"\" };\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6c9f351cffa86e336eca9e03eb9c56941fe1bd49","contentHash":"429ff0794e967a686bcb9dc176efe5eb152531e66bc4f95160da659f3c46b404"},"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/repositories/home_repository.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/repositories/home_repository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":23},"end":{"line":12,"column":57}},"14":{"start":{"line":15,"column":8},"end":{"line":15,"column":73}},"15":{"start":{"line":15,"column":28},"end":{"line":15,"column":72}},"16":{"start":{"line":18,"column":8},"end":{"line":25,"column":11}},"17":{"start":{"line":19,"column":12},"end":{"line":24,"column":13}},"18":{"start":{"line":20,"column":16},"end":{"line":20,"column":72}},"19":{"start":{"line":23,"column":16},"end":{"line":23,"column":76}},"20":{"start":{"line":28,"column":8},"end":{"line":35,"column":11}},"21":{"start":{"line":29,"column":12},"end":{"line":34,"column":13}},"22":{"start":{"line":30,"column":16},"end":{"line":30,"column":82}},"23":{"start":{"line":33,"column":16},"end":{"line":33,"column":76}},"24":{"start":{"line":38,"column":8},"end":{"line":45,"column":11}},"25":{"start":{"line":39,"column":12},"end":{"line":44,"column":13}},"26":{"start":{"line":40,"column":16},"end":{"line":40,"column":67}},"27":{"start":{"line":43,"column":16},"end":{"line":43,"column":76}},"28":{"start":{"line":48,"column":8},"end":{"line":55,"column":11}},"29":{"start":{"line":49,"column":12},"end":{"line":54,"column":13}},"30":{"start":{"line":50,"column":16},"end":{"line":50,"column":71}},"31":{"start":{"line":53,"column":16},"end":{"line":53,"column":76}},"32":{"start":{"line":58,"column":8},"end":{"line":65,"column":11}},"33":{"start":{"line":59,"column":12},"end":{"line":64,"column":13}},"34":{"start":{"line":60,"column":16},"end":{"line":60,"column":78}},"35":{"start":{"line":63,"column":16},"end":{"line":63,"column":76}},"36":{"start":{"line":68,"column":0},"end":{"line":68,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":22},"end":{"line":16,"column":5}},"line":14},"8":{"name":"(anonymous_8)","decl":{"start":{"line":15,"column":22},"end":{"line":15,"column":23}},"loc":{"start":{"line":15,"column":28},"end":{"line":15,"column":72}},"line":15},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":18},"end":{"line":26,"column":5}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":18,"column":47},"end":{"line":18,"column":48}},"loc":{"start":{"line":18,"column":60},"end":{"line":25,"column":9}},"line":18},"11":{"name":"(anonymous_11)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":21},"end":{"line":36,"column":5}},"line":27},"12":{"name":"(anonymous_12)","decl":{"start":{"line":28,"column":47},"end":{"line":28,"column":48}},"loc":{"start":{"line":28,"column":60},"end":{"line":35,"column":9}},"line":28},"13":{"name":"(anonymous_13)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":22},"end":{"line":46,"column":5}},"line":37},"14":{"name":"(anonymous_14)","decl":{"start":{"line":38,"column":47},"end":{"line":38,"column":48}},"loc":{"start":{"line":38,"column":60},"end":{"line":45,"column":9}},"line":38},"15":{"name":"(anonymous_15)","decl":{"start":{"line":47,"column":4},"end":{"line":47,"column":5}},"loc":{"start":{"line":47,"column":20},"end":{"line":56,"column":5}},"line":47},"16":{"name":"(anonymous_16)","decl":{"start":{"line":48,"column":47},"end":{"line":48,"column":48}},"loc":{"start":{"line":48,"column":60},"end":{"line":55,"column":9}},"line":48},"17":{"name":"(anonymous_17)","decl":{"start":{"line":57,"column":4},"end":{"line":57,"column":5}},"loc":{"start":{"line":57,"column":33},"end":{"line":66,"column":5}},"line":57},"18":{"name":"(anonymous_18)","decl":{"start":{"line":58,"column":47},"end":{"line":58,"column":48}},"loc":{"start":{"line":58,"column":60},"end":{"line":65,"column":9}},"line":58}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":5,"2":5,"3":5,"4":4,"5":4,"6":0,"7":1,"8":1,"9":1,"10":9,"11":5,"12":1,"13":1,"14":1,"15":5,"16":2,"17":2,"18":2,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":0,"28":1,"29":1,"30":1,"31":0,"32":1,"33":1,"34":1,"35":0,"36":1},"f":{"0":5,"1":5,"2":5,"3":5,"4":4,"5":1,"6":9,"7":1,"8":5,"9":2,"10":2,"11":0,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1},"b":{"0":[1,1,1],"1":[0,5],"2":[5,5],"3":[4,5],"4":[5,5]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/repositories/home_repository.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/repositories/home_repository.ts"],"names":[],"mappings":";;;;;;;;;;;AACA,0DAA8D;AAG9D,MAAqB,QAAQ;IAE3B,YAAY,IAAU;QACpB,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,CACjB,IAAI,CAAa,OAAO,CAAC,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC;IAC7D,CAAC;IACK,OAAO,CAAC,IAAgB;;YAC5B,IAAI;gBACF,OAAO,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;aACzD;YAAC,OAAO,KAAU,EAAE;gBACnB,MAAM,IAAI,kCAAmB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;aAC9C;QACH,CAAC;KAAA;IACK,UAAU,CAAC,IAAY;;YAC3B,IAAI;gBACF,OAAO,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;aACnE;YAAC,OAAO,KAAU,EAAE;gBACnB,MAAM,IAAI,kCAAmB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;aAC9C;QACH,CAAC;KAAA;IACK,WAAW,CAAC,IAAY;;YAC5B,IAAI;gBACF,OAAO,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;aACpD;YAAC,OAAO,KAAU,EAAE;gBACnB,MAAM,IAAI,kCAAmB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;aAC9C;QACH,CAAC;KAAA;IACK,WAAW,CAAC,EAAU;;YAC1B,IAAI;gBACF,OAAO,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;aACxD;YAAC,OAAO,KAAU,EAAE;gBACnB,MAAM,IAAI,kCAAmB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;aAC9C;QACH,CAAC;KAAA;IACK,gBAAgB,CAAC,MAAc,EAAE,EAAU;;YAC/C,IAAI;gBACF,OAAO,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;aAC/D;YAAC,OAAO,KAAU,EAAE;gBACnB,MAAM,IAAI,kCAAmB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;aAC9C;QACH,CAAC;KAAA;CACF;AAzCD,2BAyCC","sourcesContent":["import { Knex } from \"knex\";\nimport { CustomDatabaseError } from \"../../util/customerrors\";\nimport { HomeObject } from \"./home_model\";\n\nexport default class HomeRepo {\n  private HomeDb;\n  constructor(knex: Knex) {\n    this.HomeDb = () =>\n      knex<HomeObject>(\"homes\").queryContext(\"crud_functions\");\n  }\n  async addHome(home: HomeObject) {\n    try {\n      return await this.HomeDb().insert(home).returning(\"id\");\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n  async removeHome(uuid: string) {\n    try {\n      return await this.HomeDb().returning(\"home_id\").where(uuid).del();\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n  async getAllHomes(opts: object) {\n    try {\n      return await this.HomeDb().where(opts).select(\"*\");\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n  async getHomebyID(id: string) {\n    try {\n      return await this.HomeDb().select(\"*\").where(\"id\", id);\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n  async changeHomeStatus(status: string, id: string) {\n    try {\n      return await this.HomeDb().where(\"id\", id).update(\"price\", 5);\n    } catch (error: any) {\n      throw new CustomDatabaseError(error.message);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bf6d0ddf0a522b1363cfdea06f1d4642be3a22ff","contentHash":"44debbe479e12e5b5fa3cd2f1efe19bcf9e923f0c84a81d04df35927edfd022f"},"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/repositories/home_model.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/repositories/home_model.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":66}},"2":{"start":{"line":5,"column":0},"end":{"line":11,"column":62}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":41}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":33}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":35}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":41}},"8":{"start":{"line":13,"column":0},"end":{"line":16,"column":68}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":33}},"10":{"start":{"line":15,"column":4},"end":{"line":15,"column":33}},"11":{"start":{"line":18,"column":0},"end":{"line":24,"column":53}},"12":{"start":{"line":19,"column":4},"end":{"line":19,"column":32}},"13":{"start":{"line":20,"column":4},"end":{"line":20,"column":36}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":37}},"15":{"start":{"line":22,"column":4},"end":{"line":22,"column":35}},"16":{"start":{"line":23,"column":4},"end":{"line":23,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":22},"end":{"line":11,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":1},"end":{"line":13,"column":2}},"loc":{"start":{"line":13,"column":24},"end":{"line":16,"column":1}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":1},"end":{"line":18,"column":2}},"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":60}},"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":32}},{"start":{"line":11,"column":37},"end":{"line":11,"column":59}}],"line":11},"1":{"loc":{"start":{"line":16,"column":17},"end":{"line":16,"column":66}},"type":"binary-expr","locations":[{"start":{"line":16,"column":17},"end":{"line":16,"column":36}},{"start":{"line":16,"column":41},"end":{"line":16,"column":65}}],"line":16},"2":{"loc":{"start":{"line":24,"column":12},"end":{"line":24,"column":51}},"type":"binary-expr","locations":[{"start":{"line":24,"column":12},"end":{"line":24,"column":26}},{"start":{"line":24,"column":31},"end":{"line":24,"column":50}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1,1],"1":[1,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/repositories/home_model.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/data-access/repositories/home_model.ts"],"names":[],"mappings":";;;AAAA,IAAY,SAMX;AAND,WAAY,SAAS;IACnB,oCAAuB,CAAA;IACvB,4BAAe,CAAA;IACf,kCAAqB,CAAA;IACrB,8BAAiB,CAAA;IACjB,oCAAuB,CAAA;AACzB,CAAC,EANW,SAAS,GAAT,iBAAS,KAAT,iBAAS,QAMpB;AACD,IAAY,WAGX;AAHD,WAAY,WAAW;IACrB,4BAAa,CAAA;IACb,4BAAa,CAAA;AACf,CAAC,EAHW,WAAW,GAAX,mBAAW,KAAX,mBAAW,QAGtB;AACD,IAAY,MAMX;AAND,WAAY,MAAM;IAChB,2BAAiB,CAAA;IACjB,+BAAqB,CAAA;IACrB,gCAAsB,CAAA;IACtB,8BAAoB,CAAA;IACpB,uBAAa,CAAA;AACf,CAAC,EANW,MAAM,GAAN,cAAM,KAAN,cAAM,QAMjB","sourcesContent":["export enum Locations {\n  Laascanod = \"Laascanod\",\n  Burco = \"Burco\",\n  Hargeisa = \"Hargeisa\",\n  Borama = \"Borama\",\n  Ceerigabo = \"Ceerigabo\",\n}\nexport enum ListingType {\n  Rent = \"Rent\",\n  Sale = \"Sale\",\n}\nexport enum Status {\n  Active = \"active\",\n  Inactive = \"inactive\",\n  PP = \"pending payment\",\n  NA = \"not available\",\n  Sold = \"Sold\",\n}\n\nexport interface HomeObject {\n  id: string;\n  uuid?: string;\n  type: ListingType;\n  location: Locations;\n  description: string;\n  roomNumbers: number;\n  price: number;\n  userId: string;\n  isPaid: boolean;\n  geometry?: any;\n  status?: Status;\n}\n\nexport interface HomeModel {\n  addHome(home: HomeObject): Promise<Pick<HomeObject, \"id\">[]>;\n  removeHome(uuid: string): Promise<number>;\n  getAllHomes(opts: object): Promise<HomeObject[]>;\n  getHomebyID(uuid: string): Promise<HomeObject[]>;\n  changeHomeStatus(status: string, id: string): Promise<number>;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a8b76a933b484fa09f57ef17a75f9cbdafa01516","contentHash":"a0ca701bb0d5616fe2cce5ae8379f341b875fa06fdcf7c5f2bc447f63776af7a"},"/media/omo/Stuff/myprojects/GuriRaadi/src/tests/Home.spec.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/tests/Home.spec.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"25":{"start":{"line":26,"column":28},"end":{"line":26,"column":110}},"26":{"start":{"line":26,"column":91},"end":{"line":26,"column":106}},"27":{"start":{"line":27,"column":4},"end":{"line":32,"column":7}},"28":{"start":{"line":28,"column":36},"end":{"line":28,"column":97}},"29":{"start":{"line":28,"column":42},"end":{"line":28,"column":70}},"30":{"start":{"line":28,"column":85},"end":{"line":28,"column":95}},"31":{"start":{"line":29,"column":35},"end":{"line":29,"column":100}},"32":{"start":{"line":29,"column":41},"end":{"line":29,"column":73}},"33":{"start":{"line":29,"column":88},"end":{"line":29,"column":98}},"34":{"start":{"line":30,"column":32},"end":{"line":30,"column":116}},"35":{"start":{"line":31,"column":8},"end":{"line":31,"column":78}},"36":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"37":{"start":{"line":35,"column":4},"end":{"line":35,"column":62}},"38":{"start":{"line":37,"column":0},"end":{"line":37,"column":62}},"39":{"start":{"line":38,"column":13},"end":{"line":38,"column":42}},"40":{"start":{"line":39,"column":27},"end":{"line":39,"column":71}},"41":{"start":{"line":40,"column":21},"end":{"line":40,"column":70}},"42":{"start":{"line":41,"column":23},"end":{"line":41,"column":77}},"43":{"start":{"line":42,"column":23},"end":{"line":42,"column":77}},"44":{"start":{"line":43,"column":15},"end":{"line":43,"column":26}},"45":{"start":{"line":44,"column":0},"end":{"line":44,"column":37}},"46":{"start":{"line":45,"column":0},"end":{"line":103,"column":3}},"47":{"start":{"line":49,"column":4},"end":{"line":72,"column":7}},"48":{"start":{"line":50,"column":8},"end":{"line":60,"column":10}},"49":{"start":{"line":61,"column":8},"end":{"line":71,"column":10}},"50":{"start":{"line":73,"column":4},"end":{"line":83,"column":7}},"51":{"start":{"line":74,"column":8},"end":{"line":82,"column":12}},"52":{"start":{"line":74,"column":39},"end":{"line":82,"column":10}},"53":{"start":{"line":75,"column":34},"end":{"line":75,"column":71}},"54":{"start":{"line":76,"column":12},"end":{"line":77,"column":38}},"55":{"start":{"line":77,"column":16},"end":{"line":77,"column":38}},"56":{"start":{"line":78,"column":23},"end":{"line":78,"column":60}},"57":{"start":{"line":79,"column":12},"end":{"line":79,"column":26}},"58":{"start":{"line":80,"column":12},"end":{"line":80,"column":44}},"59":{"start":{"line":81,"column":12},"end":{"line":81,"column":46}},"60":{"start":{"line":84,"column":4},"end":{"line":95,"column":7}},"61":{"start":{"line":85,"column":8},"end":{"line":89,"column":12}},"62":{"start":{"line":85,"column":40},"end":{"line":89,"column":10}},"63":{"start":{"line":86,"column":29},"end":{"line":86,"column":65}},"64":{"start":{"line":87,"column":12},"end":{"line":87,"column":43}},"65":{"start":{"line":88,"column":12},"end":{"line":88,"column":47}},"66":{"start":{"line":90,"column":8},"end":{"line":94,"column":12}},"67":{"start":{"line":90,"column":46},"end":{"line":94,"column":10}},"68":{"start":{"line":91,"column":29},"end":{"line":91,"column":66}},"69":{"start":{"line":92,"column":12},"end":{"line":92,"column":44}},"70":{"start":{"line":93,"column":12},"end":{"line":93,"column":46}},"71":{"start":{"line":96,"column":4},"end":{"line":102,"column":7}},"72":{"start":{"line":97,"column":8},"end":{"line":101,"column":12}},"73":{"start":{"line":97,"column":44},"end":{"line":101,"column":10}},"74":{"start":{"line":98,"column":27},"end":{"line":98,"column":67}},"75":{"start":{"line":99,"column":12},"end":{"line":99,"column":42}},"76":{"start":{"line":100,"column":12},"end":{"line":100,"column":98}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":44},"end":{"line":25,"column":45}},"loc":{"start":{"line":25,"column":89},"end":{"line":33,"column":1}},"line":25},"7":{"name":"adopt","decl":{"start":{"line":26,"column":13},"end":{"line":26,"column":18}},"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":112}},"line":26},"8":{"name":"(anonymous_8)","decl":{"start":{"line":26,"column":70},"end":{"line":26,"column":71}},"loc":{"start":{"line":26,"column":89},"end":{"line":26,"column":108}},"line":26},"9":{"name":"(anonymous_9)","decl":{"start":{"line":27,"column":36},"end":{"line":27,"column":37}},"loc":{"start":{"line":27,"column":63},"end":{"line":32,"column":5}},"line":27},"10":{"name":"fulfilled","decl":{"start":{"line":28,"column":17},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":34},"end":{"line":28,"column":99}},"line":28},"11":{"name":"rejected","decl":{"start":{"line":29,"column":17},"end":{"line":29,"column":25}},"loc":{"start":{"line":29,"column":33},"end":{"line":29,"column":102}},"line":29},"12":{"name":"step","decl":{"start":{"line":30,"column":17},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":30},"end":{"line":30,"column":118}},"line":30},"13":{"name":"(anonymous_13)","decl":{"start":{"line":34,"column":56},"end":{"line":34,"column":57}},"loc":{"start":{"line":34,"column":71},"end":{"line":36,"column":1}},"line":34},"14":{"name":"(anonymous_14)","decl":{"start":{"line":45,"column":37},"end":{"line":45,"column":38}},"loc":{"start":{"line":45,"column":43},"end":{"line":103,"column":1}},"line":45},"15":{"name":"(anonymous_15)","decl":{"start":{"line":49,"column":11},"end":{"line":49,"column":12}},"loc":{"start":{"line":49,"column":17},"end":{"line":72,"column":5}},"line":49},"16":{"name":"(anonymous_16)","decl":{"start":{"line":73,"column":37},"end":{"line":73,"column":38}},"loc":{"start":{"line":73,"column":43},"end":{"line":83,"column":5}},"line":73},"17":{"name":"(anonymous_17)","decl":{"start":{"line":74,"column":33},"end":{"line":74,"column":34}},"loc":{"start":{"line":74,"column":39},"end":{"line":82,"column":10}},"line":74},"18":{"name":"(anonymous_18)","decl":{"start":{"line":74,"column":73},"end":{"line":74,"column":74}},"loc":{"start":{"line":74,"column":86},"end":{"line":82,"column":9}},"line":74},"19":{"name":"(anonymous_19)","decl":{"start":{"line":84,"column":37},"end":{"line":84,"column":38}},"loc":{"start":{"line":84,"column":43},"end":{"line":95,"column":5}},"line":84},"20":{"name":"(anonymous_20)","decl":{"start":{"line":85,"column":34},"end":{"line":85,"column":35}},"loc":{"start":{"line":85,"column":40},"end":{"line":89,"column":10}},"line":85},"21":{"name":"(anonymous_21)","decl":{"start":{"line":85,"column":74},"end":{"line":85,"column":75}},"loc":{"start":{"line":85,"column":87},"end":{"line":89,"column":9}},"line":85},"22":{"name":"(anonymous_22)","decl":{"start":{"line":90,"column":40},"end":{"line":90,"column":41}},"loc":{"start":{"line":90,"column":46},"end":{"line":94,"column":10}},"line":90},"23":{"name":"(anonymous_23)","decl":{"start":{"line":90,"column":80},"end":{"line":90,"column":81}},"loc":{"start":{"line":90,"column":93},"end":{"line":94,"column":9}},"line":90},"24":{"name":"(anonymous_24)","decl":{"start":{"line":96,"column":35},"end":{"line":96,"column":36}},"loc":{"start":{"line":96,"column":41},"end":{"line":102,"column":5}},"line":96},"25":{"name":"(anonymous_25)","decl":{"start":{"line":97,"column":38},"end":{"line":97,"column":39}},"loc":{"start":{"line":97,"column":44},"end":{"line":101,"column":10}},"line":97},"26":{"name":"(anonymous_26)","decl":{"start":{"line":97,"column":78},"end":{"line":97,"column":79}},"loc":{"start":{"line":97,"column":91},"end":{"line":101,"column":9}},"line":97}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":17},"end":{"line":25,"column":21}},{"start":{"line":25,"column":25},"end":{"line":25,"column":39}},{"start":{"line":25,"column":44},"end":{"line":33,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":35},"end":{"line":26,"column":109}},"type":"cond-expr","locations":[{"start":{"line":26,"column":56},"end":{"line":26,"column":61}},{"start":{"line":26,"column":64},"end":{"line":26,"column":109}}],"line":26},"18":{"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":34}},"type":"binary-expr","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":17}},{"start":{"line":27,"column":22},"end":{"line":27,"column":33}}],"line":27},"19":{"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":115}},"type":"cond-expr","locations":[{"start":{"line":30,"column":46},"end":{"line":30,"column":67}},{"start":{"line":30,"column":70},"end":{"line":30,"column":115}}],"line":30},"20":{"loc":{"start":{"line":31,"column":51},"end":{"line":31,"column":67}},"type":"binary-expr","locations":[{"start":{"line":31,"column":51},"end":{"line":31,"column":61}},{"start":{"line":31,"column":65},"end":{"line":31,"column":67}}],"line":31},"21":{"loc":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"type":"binary-expr","locations":[{"start":{"line":34,"column":23},"end":{"line":34,"column":27}},{"start":{"line":34,"column":31},"end":{"line":34,"column":51}},{"start":{"line":34,"column":56},"end":{"line":36,"column":1}}],"line":34},"22":{"loc":{"start":{"line":35,"column":11},"end":{"line":35,"column":61}},"type":"cond-expr","locations":[{"start":{"line":35,"column":37},"end":{"line":35,"column":40}},{"start":{"line":35,"column":43},"end":{"line":35,"column":61}}],"line":35},"23":{"loc":{"start":{"line":35,"column":12},"end":{"line":35,"column":33}},"type":"binary-expr","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":15}},{"start":{"line":35,"column":19},"end":{"line":35,"column":33}}],"line":35},"24":{"loc":{"start":{"line":76,"column":12},"end":{"line":77,"column":38}},"type":"if","locations":[{"start":{"line":76,"column":12},"end":{"line":77,"column":38}},{"start":{"line":76,"column":12},"end":{"line":77,"column":38}}],"line":76},"25":{"loc":{"start":{"line":76,"column":16},"end":{"line":76,"column":28}},"type":"binary-expr","locations":[{"start":{"line":76,"column":16},"end":{"line":76,"column":20}},{"start":{"line":76,"column":24},"end":{"line":76,"column":28}}],"line":76},"26":{"loc":{"start":{"line":100,"column":19},"end":{"line":100,"column":78}},"type":"cond-expr","locations":[{"start":{"line":100,"column":58},"end":{"line":100,"column":64}},{"start":{"line":100,"column":67},"end":{"line":100,"column":78}}],"line":100},"27":{"loc":{"start":{"line":100,"column":19},"end":{"line":100,"column":55}},"type":"binary-expr","locations":[{"start":{"line":100,"column":19},"end":{"line":100,"column":34}},{"start":{"line":100,"column":38},"end":{"line":100,"column":55}}],"line":100}},"s":{"0":1,"1":10,"2":10,"3":10,"4":10,"5":10,"6":2,"7":10,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":3,"16":2,"17":1,"18":1,"19":1,"20":10,"21":10,"22":1,"23":1,"24":1,"25":5,"26":0,"27":4,"28":5,"29":5,"30":0,"31":0,"32":0,"33":0,"34":9,"35":4,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1},"f":{"0":10,"1":2,"2":0,"3":1,"4":0,"5":3,"6":4,"7":5,"8":0,"9":4,"10":5,"11":0,"12":9,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1},"b":{"0":[1,1,1],"1":[1,0],"2":[10,0],"3":[10,0],"4":[10,10],"5":[0,10],"6":[10,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[2,1],"12":[3,3],"13":[1,0],"14":[10,0],"15":[10,10],"16":[1,1,1],"17":[5,0],"18":[4,4],"19":[4,5],"20":[4,4],"21":[1,1,1],"22":[0,1],"23":[1,1],"24":[1,0],"25":[1,1],"26":[0,1],"27":[1,1]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/tests/Home.spec.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/tests/Home.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import * as chai from \"chai\";\nimport chaiAsPromised from \"chai-as-promised\";\n\nimport {\n  HomeObject,\n  ListingType,\n  Locations,\n  Status,\n} from \"../data-access/repositories/home_model\";\n\nimport * as homeController from \"../controller/home_controller\";\nimport { UserObject } from \"../data-access/repositories/user_model\";\nimport * as userController from \"../controller/user_controller\";\n\nconst expect = chai.expect;\nchai.use(chaiAsPromised);\n\ndescribe(\"Homes/Listing Controller\", () => {\n  let homeObj: HomeObject;\n  let userObj: UserObject;\n  let _id: string;\n  before(() => {\n    userObj = {\n      id: \"\",\n      phoneNumber: 54444,\n      whatsappNumber: 5444,\n      userName: \"specialname\",\n      email: \"myemail.com\",\n      firstName: \"Mine\",\n      lastName: \"you\",\n      password: \"5555\",\n      salt: \"\",\n    };\n    homeObj = {\n      id: \"undefined\",\n      location: Locations.Burco,\n      type: ListingType.Sale,\n      description: \"home for sale\",\n      roomNumbers: 3,\n      price: 3.5,\n      userId: \"\",\n      isPaid: false,\n      status: Status.Active,\n    };\n  });\n  describe(\"Adding a new listing\", () => {\n    it(\"*****adds new Home\", async () => {\n      const { err, data } = await userController.addUser(userObj);\n\n      if (!err && data) homeObj.userId = data;\n\n      const id = await homeController.addHome(homeObj);\n      _id = id.data;\n      expect(data).to.be.an(\"string\");\n\n      expect(id.data).to.be.a(\"string\");\n    });\n  });\n  describe(\"Getting listings----\", () => {\n    it(\"*****Gets all homes\", async () => {\n      const { data } = await homeController.getAllHomes({});\n\n      expect(data).to.be.an(\"array\");\n      expect(data).length.greaterThan(0);\n    });\n    it(\"*****Get listing with ID \", async () => {\n      const { data } = await homeController.getHomeById(_id);\n\n      expect(data).to.be.an(\"object\");\n      expect(data.id).to.be.a(\"string\");\n    });\n  });\n  describe(\"Deactivate Listing\", () => {\n    it(\"*****Deactivate Listing\", async () => {\n      const result = await homeController.deactivateHome(_id);\n\n      expect(result.err).to.be.null;\n      expect(result?.data).to.be.a(\"string\");\n    });\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bd98c747e20fb54f40580ad491d63dd3dbcab07f","contentHash":"3ff54ec7dd09cc3541750c74fa7eab7bdd06adefe88a8466ce6f74146ab95a8b"},"/media/omo/Stuff/myprojects/GuriRaadi/src/tests/Users.spec.ts":{"path":"/media/omo/Stuff/myprojects/GuriRaadi/src/tests/Users.spec.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"25":{"start":{"line":26,"column":28},"end":{"line":26,"column":110}},"26":{"start":{"line":26,"column":91},"end":{"line":26,"column":106}},"27":{"start":{"line":27,"column":4},"end":{"line":32,"column":7}},"28":{"start":{"line":28,"column":36},"end":{"line":28,"column":97}},"29":{"start":{"line":28,"column":42},"end":{"line":28,"column":70}},"30":{"start":{"line":28,"column":85},"end":{"line":28,"column":95}},"31":{"start":{"line":29,"column":35},"end":{"line":29,"column":100}},"32":{"start":{"line":29,"column":41},"end":{"line":29,"column":73}},"33":{"start":{"line":29,"column":88},"end":{"line":29,"column":98}},"34":{"start":{"line":30,"column":32},"end":{"line":30,"column":116}},"35":{"start":{"line":31,"column":8},"end":{"line":31,"column":78}},"36":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"37":{"start":{"line":35,"column":4},"end":{"line":35,"column":62}},"38":{"start":{"line":37,"column":0},"end":{"line":37,"column":62}},"39":{"start":{"line":38,"column":15},"end":{"line":38,"column":47}},"40":{"start":{"line":39,"column":23},"end":{"line":39,"column":77}},"41":{"start":{"line":40,"column":23},"end":{"line":40,"column":54}},"42":{"start":{"line":41,"column":27},"end":{"line":41,"column":71}},"43":{"start":{"line":42,"column":15},"end":{"line":42,"column":36}},"44":{"start":{"line":43,"column":0},"end":{"line":43,"column":47}},"45":{"start":{"line":44,"column":0},"end":{"line":105,"column":3}},"46":{"start":{"line":45,"column":18},"end":{"line":45,"column":20}},"47":{"start":{"line":46,"column":16},"end":{"line":46,"column":18}},"48":{"start":{"line":47,"column":4},"end":{"line":64,"column":8}},"49":{"start":{"line":47,"column":43},"end":{"line":64,"column":6}},"50":{"start":{"line":48,"column":21},"end":{"line":59,"column":9}},"51":{"start":{"line":60,"column":22},"end":{"line":60,"column":56}},"52":{"start":{"line":61,"column":8},"end":{"line":61,"column":29}},"53":{"start":{"line":62,"column":8},"end":{"line":62,"column":91}},"54":{"start":{"line":63,"column":8},"end":{"line":63,"column":37}},"55":{"start":{"line":65,"column":4},"end":{"line":74,"column":8}},"56":{"start":{"line":65,"column":38},"end":{"line":74,"column":6}},"57":{"start":{"line":66,"column":21},"end":{"line":69,"column":9}},"58":{"start":{"line":70,"column":23},"end":{"line":70,"column":62}},"59":{"start":{"line":71,"column":8},"end":{"line":71,"column":28}},"60":{"start":{"line":72,"column":8},"end":{"line":72,"column":94}},"61":{"start":{"line":73,"column":8},"end":{"line":73,"column":86}},"62":{"start":{"line":75,"column":4},"end":{"line":83,"column":8}},"63":{"start":{"line":75,"column":42},"end":{"line":83,"column":6}},"64":{"start":{"line":76,"column":21},"end":{"line":79,"column":9}},"65":{"start":{"line":80,"column":30},"end":{"line":80,"column":69}},"66":{"start":{"line":81,"column":8},"end":{"line":81,"column":71}},"67":{"start":{"line":82,"column":8},"end":{"line":82,"column":32}},"68":{"start":{"line":84,"column":4},"end":{"line":88,"column":8}},"69":{"start":{"line":84,"column":31},"end":{"line":88,"column":6}},"70":{"start":{"line":85,"column":21},"end":{"line":85,"column":62}},"71":{"start":{"line":86,"column":8},"end":{"line":86,"column":45}},"72":{"start":{"line":87,"column":8},"end":{"line":87,"column":47}},"73":{"start":{"line":89,"column":4},"end":{"line":93,"column":8}},"74":{"start":{"line":89,"column":46},"end":{"line":93,"column":6}},"75":{"start":{"line":90,"column":21},"end":{"line":90,"column":69}},"76":{"start":{"line":91,"column":8},"end":{"line":91,"column":45}},"77":{"start":{"line":92,"column":8},"end":{"line":92,"column":85}},"78":{"start":{"line":94,"column":4},"end":{"line":98,"column":8}},"79":{"start":{"line":94,"column":37},"end":{"line":98,"column":6}},"80":{"start":{"line":95,"column":21},"end":{"line":95,"column":65}},"81":{"start":{"line":96,"column":8},"end":{"line":96,"column":44}},"82":{"start":{"line":99,"column":4},"end":{"line":104,"column":8}},"83":{"start":{"line":99,"column":33},"end":{"line":104,"column":6}},"84":{"start":{"line":100,"column":20},"end":{"line":100,"column":60}},"85":{"start":{"line":102,"column":8},"end":{"line":102,"column":85}},"86":{"start":{"line":103,"column":8},"end":{"line":103,"column":77}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":44},"end":{"line":25,"column":45}},"loc":{"start":{"line":25,"column":89},"end":{"line":33,"column":1}},"line":25},"7":{"name":"adopt","decl":{"start":{"line":26,"column":13},"end":{"line":26,"column":18}},"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":112}},"line":26},"8":{"name":"(anonymous_8)","decl":{"start":{"line":26,"column":70},"end":{"line":26,"column":71}},"loc":{"start":{"line":26,"column":89},"end":{"line":26,"column":108}},"line":26},"9":{"name":"(anonymous_9)","decl":{"start":{"line":27,"column":36},"end":{"line":27,"column":37}},"loc":{"start":{"line":27,"column":63},"end":{"line":32,"column":5}},"line":27},"10":{"name":"fulfilled","decl":{"start":{"line":28,"column":17},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":34},"end":{"line":28,"column":99}},"line":28},"11":{"name":"rejected","decl":{"start":{"line":29,"column":17},"end":{"line":29,"column":25}},"loc":{"start":{"line":29,"column":33},"end":{"line":29,"column":102}},"line":29},"12":{"name":"step","decl":{"start":{"line":30,"column":17},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":30},"end":{"line":30,"column":118}},"line":30},"13":{"name":"(anonymous_13)","decl":{"start":{"line":34,"column":56},"end":{"line":34,"column":57}},"loc":{"start":{"line":34,"column":71},"end":{"line":36,"column":1}},"line":34},"14":{"name":"(anonymous_14)","decl":{"start":{"line":44,"column":27},"end":{"line":44,"column":28}},"loc":{"start":{"line":44,"column":33},"end":{"line":105,"column":1}},"line":44},"15":{"name":"(anonymous_15)","decl":{"start":{"line":47,"column":37},"end":{"line":47,"column":38}},"loc":{"start":{"line":47,"column":43},"end":{"line":64,"column":6}},"line":47},"16":{"name":"(anonymous_16)","decl":{"start":{"line":47,"column":77},"end":{"line":47,"column":78}},"loc":{"start":{"line":47,"column":90},"end":{"line":64,"column":5}},"line":47},"17":{"name":"(anonymous_17)","decl":{"start":{"line":65,"column":32},"end":{"line":65,"column":33}},"loc":{"start":{"line":65,"column":38},"end":{"line":74,"column":6}},"line":65},"18":{"name":"(anonymous_18)","decl":{"start":{"line":65,"column":72},"end":{"line":65,"column":73}},"loc":{"start":{"line":65,"column":85},"end":{"line":74,"column":5}},"line":65},"19":{"name":"(anonymous_19)","decl":{"start":{"line":75,"column":36},"end":{"line":75,"column":37}},"loc":{"start":{"line":75,"column":42},"end":{"line":83,"column":6}},"line":75},"20":{"name":"(anonymous_20)","decl":{"start":{"line":75,"column":76},"end":{"line":75,"column":77}},"loc":{"start":{"line":75,"column":89},"end":{"line":83,"column":5}},"line":75},"21":{"name":"(anonymous_21)","decl":{"start":{"line":84,"column":25},"end":{"line":84,"column":26}},"loc":{"start":{"line":84,"column":31},"end":{"line":88,"column":6}},"line":84},"22":{"name":"(anonymous_22)","decl":{"start":{"line":84,"column":65},"end":{"line":84,"column":66}},"loc":{"start":{"line":84,"column":78},"end":{"line":88,"column":5}},"line":84},"23":{"name":"(anonymous_23)","decl":{"start":{"line":89,"column":40},"end":{"line":89,"column":41}},"loc":{"start":{"line":89,"column":46},"end":{"line":93,"column":6}},"line":89},"24":{"name":"(anonymous_24)","decl":{"start":{"line":89,"column":80},"end":{"line":89,"column":81}},"loc":{"start":{"line":89,"column":93},"end":{"line":93,"column":5}},"line":89},"25":{"name":"(anonymous_25)","decl":{"start":{"line":94,"column":31},"end":{"line":94,"column":32}},"loc":{"start":{"line":94,"column":37},"end":{"line":98,"column":6}},"line":94},"26":{"name":"(anonymous_26)","decl":{"start":{"line":94,"column":71},"end":{"line":94,"column":72}},"loc":{"start":{"line":94,"column":84},"end":{"line":98,"column":5}},"line":94},"27":{"name":"(anonymous_27)","decl":{"start":{"line":99,"column":27},"end":{"line":99,"column":28}},"loc":{"start":{"line":99,"column":33},"end":{"line":104,"column":6}},"line":99},"28":{"name":"(anonymous_28)","decl":{"start":{"line":99,"column":67},"end":{"line":99,"column":68}},"loc":{"start":{"line":99,"column":80},"end":{"line":104,"column":5}},"line":99}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":17},"end":{"line":25,"column":21}},{"start":{"line":25,"column":25},"end":{"line":25,"column":39}},{"start":{"line":25,"column":44},"end":{"line":33,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":35},"end":{"line":26,"column":109}},"type":"cond-expr","locations":[{"start":{"line":26,"column":56},"end":{"line":26,"column":61}},{"start":{"line":26,"column":64},"end":{"line":26,"column":109}}],"line":26},"18":{"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":34}},"type":"binary-expr","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":17}},{"start":{"line":27,"column":22},"end":{"line":27,"column":33}}],"line":27},"19":{"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":115}},"type":"cond-expr","locations":[{"start":{"line":30,"column":46},"end":{"line":30,"column":67}},{"start":{"line":30,"column":70},"end":{"line":30,"column":115}}],"line":30},"20":{"loc":{"start":{"line":31,"column":51},"end":{"line":31,"column":67}},"type":"binary-expr","locations":[{"start":{"line":31,"column":51},"end":{"line":31,"column":61}},{"start":{"line":31,"column":65},"end":{"line":31,"column":67}}],"line":31},"21":{"loc":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"type":"binary-expr","locations":[{"start":{"line":34,"column":23},"end":{"line":34,"column":27}},{"start":{"line":34,"column":31},"end":{"line":34,"column":51}},{"start":{"line":34,"column":56},"end":{"line":36,"column":1}}],"line":34},"22":{"loc":{"start":{"line":35,"column":11},"end":{"line":35,"column":61}},"type":"cond-expr","locations":[{"start":{"line":35,"column":37},"end":{"line":35,"column":40}},{"start":{"line":35,"column":43},"end":{"line":35,"column":61}}],"line":35},"23":{"loc":{"start":{"line":35,"column":12},"end":{"line":35,"column":33}},"type":"binary-expr","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":15}},{"start":{"line":35,"column":19},"end":{"line":35,"column":33}}],"line":35},"24":{"loc":{"start":{"line":62,"column":15},"end":{"line":62,"column":71}},"type":"cond-expr","locations":[{"start":{"line":62,"column":52},"end":{"line":62,"column":58}},{"start":{"line":62,"column":61},"end":{"line":62,"column":71}}],"line":62},"25":{"loc":{"start":{"line":62,"column":15},"end":{"line":62,"column":49}},"type":"binary-expr","locations":[{"start":{"line":62,"column":15},"end":{"line":62,"column":29}},{"start":{"line":62,"column":33},"end":{"line":62,"column":49}}],"line":62},"26":{"loc":{"start":{"line":72,"column":15},"end":{"line":72,"column":74}},"type":"cond-expr","locations":[{"start":{"line":72,"column":54},"end":{"line":72,"column":60}},{"start":{"line":72,"column":63},"end":{"line":72,"column":74}}],"line":72},"27":{"loc":{"start":{"line":72,"column":15},"end":{"line":72,"column":51}},"type":"binary-expr","locations":[{"start":{"line":72,"column":15},"end":{"line":72,"column":30}},{"start":{"line":72,"column":34},"end":{"line":72,"column":51}}],"line":72},"28":{"loc":{"start":{"line":73,"column":15},"end":{"line":73,"column":73}},"type":"cond-expr","locations":[{"start":{"line":73,"column":54},"end":{"line":73,"column":60}},{"start":{"line":73,"column":63},"end":{"line":73,"column":73}}],"line":73},"29":{"loc":{"start":{"line":73,"column":15},"end":{"line":73,"column":51}},"type":"binary-expr","locations":[{"start":{"line":73,"column":15},"end":{"line":73,"column":30}},{"start":{"line":73,"column":34},"end":{"line":73,"column":51}}],"line":73},"30":{"loc":{"start":{"line":102,"column":15},"end":{"line":102,"column":65}},"type":"cond-expr","locations":[{"start":{"line":102,"column":48},"end":{"line":102,"column":54}},{"start":{"line":102,"column":57},"end":{"line":102,"column":65}}],"line":102},"31":{"loc":{"start":{"line":102,"column":15},"end":{"line":102,"column":45}},"type":"binary-expr","locations":[{"start":{"line":102,"column":15},"end":{"line":102,"column":27}},{"start":{"line":102,"column":31},"end":{"line":102,"column":45}}],"line":102},"32":{"loc":{"start":{"line":103,"column":15},"end":{"line":103,"column":64}},"type":"cond-expr","locations":[{"start":{"line":103,"column":48},"end":{"line":103,"column":54}},{"start":{"line":103,"column":57},"end":{"line":103,"column":64}}],"line":103},"33":{"loc":{"start":{"line":103,"column":15},"end":{"line":103,"column":45}},"type":"binary-expr","locations":[{"start":{"line":103,"column":15},"end":{"line":103,"column":27}},{"start":{"line":103,"column":31},"end":{"line":103,"column":45}}],"line":103}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":7,"26":0,"27":7,"28":7,"29":7,"30":0,"31":0,"32":0,"33":0,"34":14,"35":7,"36":1,"37":2,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":1,"6":7,"7":7,"8":0,"9":7,"10":7,"11":0,"12":14,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[1,0],"12":[1,1],"13":[0,0],"14":[0,0],"15":[0,0],"16":[1,1,1],"17":[7,0],"18":[7,7],"19":[7,7],"20":[7,7],"21":[1,1,1],"22":[0,2],"23":[2,2],"24":[0,1],"25":[1,1],"26":[0,1],"27":[1,1],"28":[0,1],"29":[1,1],"30":[0,1],"31":[1,1],"32":[0,1],"33":[1,1]},"inputSourceMap":{"version":3,"file":"/media/omo/Stuff/myprojects/GuriRaadi/src/tests/Users.spec.ts","sources":["/media/omo/Stuff/myprojects/GuriRaadi/src/tests/Users.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import chai, { assert } from \"chai\";\nimport * as userController from \"../controller/user_controller\";\nimport { UserObject } from \"../data-access/repositories/user_model\";\nimport { CustomDatabaseError, LoginFailureError } from \"../util/customerrors\";\nimport chaiAsPromised from \"chai-as-promised\";\n\nconst expect = chai.expect;\nchai.use(chaiAsPromised);\n\ndescribe(\"User Functions\", () => {\n  let user_id: string = \"\";\n  let token: string = \"\";\n\n  it(\"*****registers/adds a user\", async () => {\n    const user: UserObject = {\n      id: \"test\",\n      phoneNumber: 1111,\n      whatsappNumber: 1111,\n      userName: \"special\",\n      email: \"my.com\",\n      firstName: \"Mine\",\n      lastName: \"you\",\n      password: \"somepassword\",\n      active: true,\n      salt: \"\",\n    };\n    const added = await userController.addUser(user);\n    user_id = added.data;\n\n    expect(added?.data).to.be.a(\"string\");\n    expect(added.err).to.be.null;\n  });\n  it(\"*****signs a user in \", async () => {\n    const user = {\n      phoneNumber: 1111,\n      password: \"somepassword\",\n    };\n\n    const signIn = await userController.loginHandler(user);\n    token = signIn.data;\n\n    expect(signIn?.data).to.be.a(\"string\");\n    expect(signIn?.err).to.be.null;\n  });\n  it(\"*****Should fail to login\", async () => {\n    const user = {\n      phoneNumber: 5444,\n      password: \"33333\",\n    };\n    const { err, data } = await userController.loginHandler(user);\n    expect(err).to.be.instanceOf(LoginFailureError);\n    expect(data).to.be.null;\n  });\n\n  it(\"*****Get User \", async () => {\n    const user = await userController.getUserById(user_id);\n    expect(user.data).to.be.an(\"object\");\n    expect(user.data.id).to.be.a(\"string\");\n  });\n\n  it(\"*****Get user from session ID\", async () => {\n    const user = await userController.getUserFromSessionId(token);\n\n    expect(user.data).to.be.an(\"object\");\n    expect(user.data.id).to.equal(\n      user_id,\n      \"User Id not equal to token user_id\"\n    );\n  });\n  it(\"*****deactivate user\", async () => {\n    const user = await userController.deactivateUser(user_id);\n    expect(user.data).to.be.a(\"string\");\n    // expect(user.success).to.be.true;\n  });\n  it(\"*****Delete user\", async () => {\n    const del = await userController.removeUser(user_id);\n    // expect(del?.success).to.be.true;\n    expect(del?.data).to.be.a(\"string\");\n    expect(del?.err).to.be.null;\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"081944bcc4c40be7c0997f6cbb2c91cb343c5ead","contentHash":"88242a4fa2b0c82b4429cf569f1c77bdeb8e108fdea075f39b2563cf307d2ca5"}}